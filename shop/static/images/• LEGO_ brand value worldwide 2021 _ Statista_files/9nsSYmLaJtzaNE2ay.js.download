/* generated at: 2022-05-28T00:19:58.964Z */
(()=>{var __webpack_modules__={676:(e,t,n)=>{"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{Z:()=>i})},3614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(676);function r(e){if(Array.isArray(e))return(0,i.Z)(e)}},3349:(e,t,n)=>{"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>i})},2137:(e,t,n)=>{"use strict";function i(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)}))}}n.d(t,{Z:()=>r})},6610:(e,t,n)=>{"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>i})},6481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(4665),r=n(1814);function o(e,t,n){return(o=(0,r.Z)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&(0,i.Z)(o,n.prototype),o}).apply(null,arguments)}},5991:(e,t,n)=>{"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:()=>r})},6156:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>i})},7608:(e,t,n)=>{"use strict";function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:()=>i})},379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(4665);function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,i.Z)(e,t)}},513:(e,t,n)=>{"use strict";function i(e){return-1!==Function.toString.call(e).indexOf("[native code]")}n.d(t,{Z:()=>i})},1814:(e,t,n)=>{"use strict";function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:()=>i})},6410:(e,t,n)=>{"use strict";function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:()=>i})},2303:(e,t,n)=>{"use strict";function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:()=>i})},6070:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(484),r=n(3349);function o(e,t){if(t&&("object"===(0,i.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.Z)(e)}},4665:(e,t,n)=>{"use strict";function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:()=>i})},4699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(2961);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||(0,i.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},8927:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(3614),r=n(6410),o=n(2961),a=n(2303);function s(e){return(0,i.Z)(e)||(0,r.Z)(e)||(0,o.Z)(e)||(0,a.Z)()}},484:(e,t,n)=>{"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:()=>i})},2961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(676);function r(e,t){if(e){if("string"==typeof e)return(0,i.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.Z)(e,t):void 0}}},3415:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(7608),r=n(4665),o=n(513),a=n(6481);function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||!(0,o.Z)(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,a.Z)(e,arguments,(0,i.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,r.Z)(n,e)})(e)}},7757:(e,t,n)=>{e.exports=n(5666)},3035:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(484),r=n(6156),o=n(6610),a=n(5991),s=n(2238),c=n.n(s),_=n(3705),u=n(1078),l=n(1624),f=n(5632),h=n(3114);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g="GET",b="POST",m=function(){function e(t){(0,o.Z)(this,e),this.channelId=t,this.confirmAlertTestId=void 0,this.endpoint="https://api.cleverpush.com",this.regionEnabled=!1}return(0,a.Z)(e,[{key:"setConfirmAlertTestId",value:function(e){this.confirmAlertTestId=e}},{key:"request",value:function(e,t,n){(0,u.tI)("request",e,t,n);var i={method:g,headers:{Accept:"application/json"}};return e&&(i.method=e),n&&(i.body=JSON.stringify(p({sdkVersion:"1.0.0"},n)),i.headers["Content-Type"]="application/json"),(0,l.Z)(this.endpoint+t,i)}},{key:"getChannelConfig",value:function(e){var t="/channel/".concat(this.channelId,"/config");if(void 0!==e&&e){t+="?confirmAlertTestsEnabled=true";var n=new(c())(navigator.userAgent).getOS();n.name&&(t+="&platformName=".concat(n.name))}return this.request(g,t,null)}},{key:"tagSubscription",value:function(e,t){return this.request(b,"/subscription/tag",{channelId:this.channelId,tagId:t,subscriptionId:e})}},{key:"untagSubscription",value:function(e,t){return this.request(b,"/subscription/untag",{channelId:this.channelId,tagId:t,subscriptionId:e})}},{key:"setSubscriptionAttribute",value:function(e,t,n){return this.request(b,"/subscription/attribute",{channelId:this.channelId,attributeId:t,value:n,subscriptionId:e})}},{key:"pushSubscriptionAttributeValue",value:function(e,t,n){return this.request(b,"/subscription/attribute/push-value",{channelId:this.channelId,attributeId:t,value:n,subscriptionId:e})}},{key:"pullSubscriptionAttributeValue",value:function(e,t,n){return this.request(b,"/subscription/attribute/pull-value",{channelId:this.channelId,attributeId:t,value:n,subscriptionId:e})}},{key:"triggerFollowUpEvent",value:function(e,t,n,i,r,o,a){var s={channelId:this.channelId,subscriptionId:e,campaignId:t,notificationId:n,name:i,parameters:r,fromNotification:o,bypassInactive:a};if("triggerArticleBounce"===i&&"function"==typeof navigator.sendBeacon){var c=new Blob([JSON.stringify(s)],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon("".concat(this.endpoint,"/subscription/event"),c)}return this.request(b,"/subscription/event",s)}},{key:"trackConversion",value:function(e,t,n,i,r){return this.request(b,"/subscription/conversion",{channelId:this.channelId,subscriptionId:e,notificationId:t,eventId:n,amount:i,currency:r})}},{key:"trackWidget",value:function(e,t){return this.request(b,"/channel/".concat(this.channelId,"/widget/").concat(t),{channelId:this.channelId,widgetId:e})}},{key:"trackPanel",value:function(e,t){return this.request(b,"/channel/".concat(this.channelId,"/panel/").concat(t),{channelId:this.channelId,notificationId:e})}},{key:"trackBounce",value:function(e){var t=p({channelId:this.channelId},e||{}),n=new(c())(navigator.userAgent),i=n.getBrowser(),r=n.getOS();if(t.platformName=r.name||void 0,t.browserType=i.name||void 0,"function"==typeof navigator.sendBeacon){var o=new Blob([JSON.stringify(t)],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon("".concat(this.endpoint,"/notification/bounced"),o)}return this.request(b,"/notification/bounced",t)}},{key:"getSyncParameters",value:function(e){var t,n,i,r;(0,u.tI)("getSyncParameters");var o=new(c())(navigator.userAgent),a=o.getBrowser(),s=o.getOS(),d=(a.version||"").split(".")[0],p=(s.version||"").split(".")[0],g={channelId:this.channelId,browserType:a.name||void 0,browserVersion:d||a.version||void 0,platformName:s.name||void 0,platformVersion:p||s.version||void 0},b=location.pathname;b&&(g.pathname=b);try{if("undefined"!=typeof sessionStorage){var m=sessionStorage.getItem("cleverpush-referrer")||document.referrer.split("?")[0];m&&(g.referrer=m);var v=sessionStorage.getItem("cleverpush-referral-subscription-id");v&&(g.referralSubscriptionId=v)}if("undefined"!=typeof localStorage){var E=localStorage.getItem("cleverpush-visits")||0;isNaN(E)||(g.visits="".concat(E)),"was-denied"!==localStorage.getItem("subscription-status")&&"denied"!==localStorage.getItem("subscription-status")||(g.wasDenied=!0)}}catch(e){}var w=(0,h.ej)(null===(t=self)||void 0===t?void 0:null===(n=t.CleverPush)||void 0===n?void 0:n.config);if(w&&(g.language=w),this.confirmAlertTestId&&(g.confirmAlertTestId=this.confirmAlertTestId),this.testSubscription&&(g.testSubscription=this.testSubscription),void 0!==e&&e)return g;var P=[];if(null!==(i=self.CleverPush)&&void 0!==i&&null!==(r=i.config)&&void 0!==r&&r.geoipApiEndpoint){var M=new _.Z((function(e){var t,n;(0,l.Z)(null===(t=self.CleverPush)||void 0===t?void 0:null===(n=t.config)||void 0===n?void 0:n.geoipApiEndpoint,{mode:"cors",timeout:3e3}).then((function(t){g=Object.assign(g,t),e()})).catch((function(t){u.cM.error(t),e()}))}));P.push(M)}if(self.CleverPush&&self.CleverPush.config&&self.CleverPush.config.pianoEnabled&&self.CleverPush.config.pianoPublicPersistedId)try{var O=new _.Z((function(e){(0,f.Cu)().then((function(t){var n=t.segments;g.pianoSegments=n,e()})).catch(e)}));P.push(O)}catch(e){u.cM.info("Error getting Piano Segments",e)}return _.Z.all(P).then((function(){return _.Z.resolve(g)}))}},{key:"syncSubscription",value:function(e,t,n,r){var o=this;if((0,u.tI)("syncSubscription",e,t),!e)return _.Z.reject();var a="object"===(0,i.Z)(r)?r:{};return this.getSyncParameters().then((function(r){a=Object.assign(a,r);var s=parseInt(a.browserVersion,10);if(o.regionEnabled||delete a.region,"object"===(0,i.Z)(t)&&t&&!isNaN(t.length)){var c=0;try{var u=localStorage.getItem("cleverpush-topics-version");u&&!isNaN(u)&&(c=parseInt(u,10))}catch(e){}c+=1,a.topics=t,a.topicsVersion=c}if("object"===(0,i.Z)(n)&&n&&n.length&&(a.tags=n),a.existingPermission&&delete a.confirmAlertTestId,o.fromBellWidget&&(a.fromBellWidget=o.fromBellWidget),o.widgetId&&(a.widgetId=o.widgetId),e.facebookUserRef&&(a.facebookUserRef=e.facebookUserRef,"undefined"!=typeof self&&self.CleverPush&&self.CleverPush.config&&self.CleverPush.config.multiChannels&&self.CleverPush.config.multiChannels.facebookChannel._id!==a.channelId&&(a.channelId=self.CleverPush.config.multiChannels.facebookChannel._id)),"Safari"===a.browserType&&"object"===(0,i.Z)(e)&&e.deviceToken)a.apnsToken=e.deviceToken;else if("string"==typeof e)a.subscriptionId=e;else if("Chrome"===a.browserType&&s>=42&&s<50)a.endpoint=e.endpoint;else if(a.endpoint=e.endpoint,void 0!==e.getKey){var l=e.getKey?e.getKey("p256dh"):null,f=null;("Firefox"!==a.browserType||"Firefox"===a.browserType&&s>=46)&&(f=e.getKey?e.getKey("auth"):null),l&&(a.publicKey=btoa(String.fromCharCode.apply(null,new Uint8Array(l)))),f&&(a.authSecret=btoa(String.fromCharCode.apply(null,new Uint8Array(f))))}return new _.Z((function(e,t){return o.request(b,"/subscription/sync/".concat(o.channelId),a).then((function(n){n&&n.id?e(n):n&&n.error?t(n.error):t()})).catch((function(e){e.reason?t(e.reason):e.status?t(e.status):t(e)}))}))}))}},{key:"unsubscribe",value:function(e){var t=this;return new _.Z((function(n){t.request(b,"/subscription/unsubscribe",{subscriptionId:e,channelId:t.channelId}).then(n).catch(n)}))}},{key:"unsubscribeFeedback",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new _.Z((function(i){t.request(b,"/subscription/unsubscribe/feedback",{type:e,text:n,channelId:t.channelId}).then(i).catch(i)}))}},{key:"startSession",value:function(e,t){var n=this;return new _.Z((function(i){n.request(b,"/subscription/session/start",p({subscriptionId:e,channelId:n.channelId},t||{})).then(i).catch(i)}))}},{key:"endSession",value:function(e,t){var n=new Blob([JSON.stringify(p({subscriptionId:e,channelId:this.channelId},t))],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon("".concat(this.endpoint,"/subscription/session/end"),n)}},{key:"trackSessionImpression",value:function(e,t){var n=this;return new _.Z((function(i){n.request(b,"/subscription/session/impression",{subscriptionId:e,notificationId:t,channelId:n.channelId}).then(i).catch(i)}))}},{key:"confirmAlertShown",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"confirm-alert",n=!0,i="cleverpush-".concat(t,"-reported"),r=2,o=sessionStorage.getItem(i);if(o){var a=parseInt(o,10);isNaN(a)||(n=a+36e5*r<Date.now())}if(n){sessionStorage.setItem(i,Date.now());var s={channelId:this.channelId,confirmAlertTestId:this.confirmAlertTestId},u=new(c())(navigator.userAgent),l=u.getBrowser(),f=u.getOS();if(s.platformName=f.name||void 0,s.browserType=l.name||void 0,void 0!==e&&e&&(s.existingPermission=!0,delete s.confirmAlertTestId),"undefined"!=typeof window&&window.CleverPush&&window.CleverPush.config.trackOptInPathnames){var h=location.pathname;h&&(s.pathname=h)}if(this.widgetId&&(s.widgetId=this.widgetId),"undefined"!=typeof window&&window.CleverPush&&window.CleverPush.config.trackOptInReferrers)try{if("undefined"!=typeof sessionStorage){var d=sessionStorage.getItem("cleverpush-referrer")||document.referrer.split("?")[0];d&&(s.referrer=d)}}catch(e){}return"undefined"==typeof localStorage||"was-denied"!==localStorage.getItem("subscription-status")&&"denied"!==localStorage.getItem("subscription-status")||(s.wasDenied=!0),this.request(b,"/channel/".concat(t),s)}return _.Z.resolve()}},{key:"trackOptInVisitor",value:function(){var e={channelId:this.channelId,confirmAlertTestId:this.confirmAlertTestId};return this.widgetId&&(e.widgetId=this.widgetId),this.request(b,"/channel/optin-visitor",e)}},{key:"confirmAlertDenied",value:function(){var e={channelId:this.channelId,confirmAlertTestId:this.confirmAlertTestId};return this.widgetId&&(e.widgetId=this.widgetId),e.existingPermission&&delete e.confirmAlertTestId,this.request(b,"/channel/blocked-optin-request",e)}},{key:"generateWalletPass",value:function(e,t){var n=this;return new _.Z((function(i,r){n.request(b,"/channel/".concat(n.channelId,"/wallet-pass/").concat(e,"/subscribe"),p({walletPassId:e},t)).then(i).catch(r)}))}},{key:"trackWebBannerEvent",value:function(e,t,n){return this.request(b,"/web-banner/event/".concat(e),{bannerId:t,elementId:n})}}]),e}()},6128:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>CleverPush});var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(4699),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(8927),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7757),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(484),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(2137),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(6610),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(5991),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(3349),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(379),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6070),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7608),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6156),wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4795),wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_4__),promise_polyfill__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3705),_utils_polyfills__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5401),_utils_polyfills__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_utils_polyfills__WEBPACK_IMPORTED_MODULE_6__),_utils_debug__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1078),_utils_dom__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5895),_api__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3035),_messenger_command__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2136),_utils_request__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1624),_utils_detect__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6716),_utils_translate__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3114),_utils_tags__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9800),_utils_piano__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5632),_utils_adblock__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1328),_const_customCssOverrides__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1317),_const_event__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2034),_error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4740),_utils_env__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7159),_const_common__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(155),_utils_followUp__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(8158);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.Z)(e);if(t){var r=(0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.Z)(this,n)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var CleverPush=function(_EventEmitter){(0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_23__.Z)(CleverPush,_EventEmitter);var _super=_createSuper(CleverPush),_initSpeechbubblePanels,_setUnread;function CleverPush(){var e;return(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_24__.Z)(this,CleverPush),e=_super.call(this),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_25__.Z)(e),"applyConfirmAlertFilter",function(){var t=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_26__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function t(n,i){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==n.autoRegister&&(e.config.autoRegister=n.autoRegister),void 0!==n.minimumVisits&&(e.config.alertMinimumVisits=n.minimumVisits),void 0!==n.scrollPercentage&&(e.config.alertScrollPercentage=n.scrollPercentage),void 0!==n.timeout&&(e.config.alertTimeout=1e3*n.timeout),void 0!==n.localizationTitle&&(e.config.alertLocalization=_objectSpread(_objectSpread({},e.config.alertLocalization),{},{title:n.localizationTitle})),void 0!==n.localizationInfo&&(e.config.alertLocalization=_objectSpread(_objectSpread({},e.config.alertLocalization),{},{info:n.localizationInfo})),void 0!==n.radioButtonTopics&&(e.config.confirmAlertRadioButtonTopics=n.radioButtonTopics),void 0!==n.requireTopics&&(e.config.confirmAlertRequireChannelTopics=n.requireTopics),void 0!==n.nativeTheme&&(e.config.confirmAlertNativeTheme=n.nativeTheme),void 0!==n.customCss&&(e.config.customCss||(e.config.customCss=""),e.config.customCss+=n.customCss),"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(n.config)&&(Object.keys(n.config||{}).forEach((function(t){if("alertLocalization"===t)e.config[t]=_objectSpread(_objectSpread({},e.config[t]),n.config[t]);else if(0===t.indexOf("alertLocalization")){e.config.alertLocalization||(e.config.alertLocalization={});var i=t.substr("alertLocalization".length);e.config.alertLocalization[i.substr(0,1).toLowerCase()+i.substr(1)]=n.config[t]}else"serviceWorkerPath"===t?e.config.serviceWorkerFile=n.config[t]:"customCss"===t?(e.config.customCss||(e.config.customCss=""),e.config.customCss+=n.config.customCss):e.config[t]=n.config[t]})),n.config.alertTimeout&&n.config.alertTimeout<1e3&&(e.config.alertTimeout=1e3*n.config.alertTimeout),n.config&&n.config.facebookOptIn&&"facebook"!==e.browserType&&(e.browserType="facebook",e.setFacebookChannelConfig(i),e.importSubscriptionManager("facebookManager",n.type)));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_25__.Z)(e),"checkAutoBalanceShouldShowAlert",(function(e,t){var n=2*t,i=1.05*t,r=100/Math.pow(n-i,2)*Math.pow(e-i,2);return r=r||0,r=Math.max(0,Math.min(100,r)),100*Math.random()<=r})),e.bell=null,e.config={},e.log=_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM,e.initialized=!1,e.initCalled=!1,e.initFailed=!1,e.initError=null,e.api=null,e.subscriptionManager=null,e.version="1.0.0",e.isMobile="Android"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name||"iOS"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name||"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type,e}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_28__.Z)(CleverPush,[{key:"init",value:function init(configParam,callbackParam){var _this2=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("init"),_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("Browser:",_utils_env__WEBPACK_IMPORTED_MODULE_20__.Xh.name,_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_);var callback=function(e,t){var n=void 0!==t?t:!e;"function"==typeof callbackParam?callbackParam(e,n):e&&(e.warn||"unsupported-browser"===e.reason||"private-mode"===e.reason||"already-initialized"===e.reason||"init-already-called"===e.reason?_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn(e.message):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error(e)),"function"==typeof window.cleverPushInitCallback&&window.cleverPushInitCallback(e,n),e?("already-initialized"!==e.reason&&"init-already-called"!==e.reason&&(_this2.initFailed=!0,_this2.initError=e),_this2.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.INITIALIZATION_FAILED)):_this2.initFailed=!1};if(this.initCalled)callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("Init was already called, please only call init() once.","init-already-called"),!1);else if(this.initCalled=!0,window.addEventListener("message",(function(e){e.data&&"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(e.data)&&"cleverpush"===e.data.type&&e.data.method&&e.data.arguments&&_this2[e.data.method]&&_this2[e.data.method].apply(_this2,(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_29__.Z)(e.data.arguments))})),"object"!==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(configParam))callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("Required parameter `config` not given.","invalid-config"));else if(configParam.channelId||configParam.loadConfigFromParent)if(this.initialized)callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("CleverPush SDK was already initialized.","already-initialized"));else{this.api=new _api__WEBPACK_IMPORTED_MODULE_9__.Z(configParam.channelId),configParam.apiEndpoint&&(this.api.endpoint=configParam.apiEndpoint),!configParam.env&&window.cleverPushConfig&&window.cleverPushConfig.env&&(configParam.env=window.cleverPushConfig.env);var initSubscriptionManager=function(){var e,t=window.location.protocol,n=window.location.hostname;try{t=window.parent.location.protocol,n=window.parent.location.hostname}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error reading parent location",e)}return e="safari"===_this2.browserType?"safariManager":"facebook"===_this2.browserType?"facebookManager":"wallet"===_this2.browserType?"walletManager":"urlSession"===_this2.browserType?"urlSessionManager":(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.CO)(configParam)||"POPUP"===configParam.env?"httpPopupManager":(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.cL)(configParam)?"httpIframeManager":!_this2.config.ownDomain||"https:"!==t&&"localhost"!==n?"httpHostManager":"httpsManager",new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){__webpack_require__(3564)("./".concat(e)).then((function(e){var n=e.default;_this2.subscriptionManager=new n(_this2.config,_this2.api,_this2.trigger.bind(_this2)),t()}))}))};if("POPUP"!==configParam.env&&(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.MD)(configParam)||"PREVIEW"===configParam.env||"WIDGET"===configParam.env){var loadConfigPromise=new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(e,t){var n=configParam.confirmAlertTestsEnabled&&configParam.confirmAlertTests&&configParam.confirmAlertTests.length;"undefined"!=typeof fetch&&(void 0===configParam.loadConfig||configParam.loadConfig||n)&&"PREVIEW"!==configParam.env?_this2.api.getChannelConfig(configParam.confirmAlertTestsEnabled).then((function(t){e(t)})).catch(t):configParam.loadConfigUrl?(0,_utils_request__WEBPACK_IMPORTED_MODULE_11__.Z)(configParam.loadConfigUrl).then((function(t){e(t||{})})).catch(t):e({})}));configParam.apiEndpoint&&(this.api.endpoint=configParam.apiEndpoint),loadConfigPromise.then((function(channelConfig){if(_this2.config=_objectSpread(_objectSpread(_objectSpread({autoRegister:!0,alertTimeout:0,alertMinimumVisits:0,loadIframe:!0,trackSessions:!0},channelConfig),configParam),{},{confirmAlertTests:channelConfig.confirmAlertTests}),_this2.initWebpackPublicPath(),_this2.config.enableRestrictOptInDomain&&_this2.config.domain&&!_this2.config.domain.includes(location.hostname))callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("This channel has enabled Opt-in domain restrictions. (".concat(location.hostname," is not included in allowed domains (").concat(_this2.config.domain,"))"),"enableRestrictOptInDomain"));else if(configParam.alertLocalization&&(_this2.config.alertLocalization=_objectSpread(_objectSpread({},channelConfig.alertLocalization),configParam.alertLocalization)),void 0!==_this2.config.channelId&&void 0!==_this2.config.channelName){if("object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(self.cleverPushConfig)&&(_this2.config=Object.assign(_this2.config,self.cleverPushConfig)),_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Config:",_this2.config),_this2.config.apiEndpoint&&(_this2.api.endpoint=_this2.config.apiEndpoint),_this2.config.regionEnabled&&(_this2.api.regionEnabled=!0),(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.io)()&&(_this2.config.autoRegister=!1),_this2.config.facebookAppId||(_this2.config.facebookAppId="436333683366106"),"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var params=new URLSearchParams(location.search.slice(1));if(params.get("confirmAlertTestId")&&(_this2.config.confirmAlertTestId=params.get("confirmAlertTestId"),_this2.api.setConfirmAlertTestId(_this2.config.confirmAlertTestId)),params.get("cpId"))try{sessionStorage.setItem("cleverpush-url-session",_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb),sessionStorage.setItem("cleverpush-subscription-id",params.get("cpId"))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn("Error setting URL-session",e)}}try{sessionStorage.getItem("cleverpush-url-session")&&(_this2.urlSession=!0)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("Error getting url-session key from storage",e)}try{(_this2.config.trackOptInReferrers||(_this2.config.confirmAlertFilters||[]).find((function(e){return"referrer"===e.type}))||_this2.config.bounceEnabled&&(_this2.config.bounceFilters||[]).find((function(e){return"direct"===e.source})))&&!sessionStorage.getItem("cleverpush-referrer")&&document.referrer&&sessionStorage.setItem("cleverpush-referrer",document.referrer.split("?")[0]),_this2.referrer=sessionStorage.getItem("cleverpush-referrer")}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}var supportsPushOrFbMessenger=function(){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(e,t){var n=function(n){if("unsupported-browser"===n.reason)return _this2.urlSession&&!configParam.forceChannelId?(_this2.setUrlSessionConfig(configParam),void e("urlSession")):_this2.config.facebookAppId&&_this2.config.facebookPageId&&_this2.config.facebookCheckboxEnabled?(_this2.setFacebookChannelConfig(configParam),void e("facebook")):_this2.config.multiChannels&&_this2.config.multiChannels.walletChannel&&((_this2.config.walletPasses||[]).length||_this2.config.confirmAlertTestsEnabled&&_this2.config.confirmAlertTestId&&(_this2.config.confirmAlertTests||[]).find((function(e){return e.id===_this2.config.confirmAlertTestId&&e.config&&(e.config.walletPasses||[]).length})))&&"iOS"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name?(_this2.config.multiChannels&&_this2.config.multiChannels.walletChannel&&_this2.config.multiChannels.walletChannel._id!==_this2.config.channelId&&!configParam.forceChannelId&&(_this2.config.channelId=_this2.config.multiChannels.walletChannel._id,_this2.config.alertLocalization=_objectSpread(_objectSpread({},_this2.config.alertLocalization),_this2.config.multiChannels.walletChannel.alertLocalization),_this2.api.channelId=_this2.config.multiChannels.walletChannel._id),_this2.config.hideNotificationBellSubscribed=!0,_this2.config.showConfirmAlert=!0,"cleverpush-confirm-backdrop-text"===_this2.config.confirmAlertNativeTheme&&(_this2.config.confirmAlertNativeTheme=""),void e("wallet")):void t(n);t(n)};if(_this2.urlSession)return _this2.setUrlSessionConfig(configParam),void e("urlSession");_this2.config.multiChannels&&_this2.config.multiChannels.facebookChannel&&_this2.config.multiChannels.facebookChannel.facebookPage&&!_this2.config.facebookPageId&&(_this2.config.facebookPageId=_this2.config.multiChannels.facebookChannel.facebookPage.id||_this2.config.multiChannels.facebookChannel.facebookPageId,_this2.config.facebookCheckboxEnabled=_this2.config.multiChannels.facebookChannel.facebookCheckboxEnabled,_this2.config.facebookCheckboxOnlyUnsupported=_this2.config.multiChannels.facebookChannel.facebookCheckboxOnlyUnsupported,_this2.config.facebookDoubleOptIn=_this2.config.multiChannels.facebookChannel.facebookDoubleOptIn),(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.H$)().then((function(t){_this2.config.facebookCheckboxOnlyUnsupported&&_this2.config.facebookPageId&&(_this2.config.facebookPageId=null),"safari"!==t||_this2.config.safariWebsitePushId?(_this2.checkConfirmAlertFilters(configParam),e(_this2.browserType||t)):n(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("Safari Web Push not set up","unsupported-browser"))})).catch(n)}))};_this2.initWebBanners(),_this2.initBounces(),(0,_utils_dom__WEBPACK_IMPORTED_MODULE_8__.AE)().then((function(){_this2.initMultiPlatformWidgets()})),_this2.initChatWidget(),supportsPushOrFbMessenger().then((function(browserType){if(_this2.browserType=browserType,_this2.config.browserType=browserType,!_this2.config.desktopOnly||"Android"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name&&"mobile"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type){if(_this2.config.confirmAlertTestsEnabled&&_this2.config.confirmAlertTests&&_this2.config.confirmAlertTests.length>0){var availableConfirmAlertTests=_this2.config.confirmAlertTests.filter((function(e){return!(e.config||{}).alertPathname||(e.config||{}).alertPathname&&new RegExp((e.config||{}).alertPathname).test(window.location.pathname)})),test;if(_this2.config.confirmAlertTestId){var testIndex=availableConfirmAlertTests.findIndex((function(e){return(e||{}).id===_this2.config.confirmAlertTestId}));testIndex>=0&&(test=availableConfirmAlertTests[testIndex])}if(!test){var defaultPercent=100/availableConfirmAlertTests.length,tests=availableConfirmAlertTests.map((function(e){return _objectSpread(_objectSpread({},e),{},{percentage:e.percentage||defaultPercent})})),i,randomNr=Math.random(),threshold=0;for(i=0;i<tests.length;i+=1)if(tests[i].percentage){if(threshold+=tests[i].percentage/100,threshold>randomNr){test=tests[i];break}test||(test=tests.filter((function(e){return!e.percentage})))}}test&&test.config&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Split-Test:",test),_this2.config=_objectSpread(_objectSpread(_objectSpread({},_this2.config),test.config),{},{confirmAlertTestId:test.id,customCss:(test.config.customCss||"")+(_this2.config.customCss?_this2.config.customCss:""),alertLocalization:_objectSpread(_objectSpread({},_this2.config.alertLocalization),test.config.alertLocalization||{})}),test.alertLocalization||(_this2.config.alertLocalization||(_this2.config.alertLocalization={}),_this2.config.alertLocalization={allow:test.config.alertLocalizationAllow||_this2.config.alertLocalization.allow,deny:test.config.alertLocalizationDeny||_this2.config.alertLocalization.deny,confirmInfo:test.config.alertLocalizationConfirmInfo||_this2.config.alertLocalization.confirmInfo,title:test.config.alertLocalizationTitle||_this2.config.alertLocalization.title,info:test.config.alertLocalizationInfo||_this2.config.alertLocalization.info}),_this2.api.setConfirmAlertTestId(_this2.config.confirmAlertTestId))}var language=(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.ej)(_this2.config||{});if(_this2.config.alertLocalizationTranslations&&language&&_this2.config.alertLocalizationTranslations[language]){var translation=_this2.config.alertLocalizationTranslations[language];translation.privacyPolicyUrl&&(_this2.config.privacyPolicyUrl=translation)}_this2.config.channelTopics&&_this2.config.channelTopics.length&&(_this2.config.channelTopics=_this2.config.channelTopics.sort((function(e,t){return e.sort-t.sort})));var initSdk=function initSdk(){promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.all([_this2.waitForInit(),initSubscriptionManager()]).then((function(){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Init done");var isMobile="Android"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name||"iOS"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name||"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type,loadBell=_this2.config.showNotificationBell&&(!isMobile||!_this2.config.hideNotificationBellMobile),importPromises=[Promise.all([__webpack_require__.e(970),__webpack_require__.e(720)]).then(__webpack_require__.bind(__webpack_require__,7720))];loadBell&&importPromises.push(Promise.all([__webpack_require__.e(34),__webpack_require__.e(407)]).then(__webpack_require__.bind(__webpack_require__,9407))),promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.all(importPromises).then((function(_ref3){var _ref4=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_30__.Z)(_ref3,2),Confirm=_ref4[0].default,bellResult=_ref4[1];if(_this2.confirm=new Confirm(_this2,_this2.subscriptionManager),_this2.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.CONFIRM_AVAILABLE),_this2.subscriptionManager.setConfirm(_this2.confirm),loadBell){var Bell=bellResult.default;_this2.bell=new Bell(_this2.config,_this2.subscriptionManager,_this2.api,_this2.confirm,_this2.trigger.bind(_this2),_this2.triggerOptIn.bind(_this2))}_this2.config.urlTriggeredPanelTab=_this2.validateUrlTriggerType(location.search.split("?cleverPushPanelTab=")[1]),_this2.config.urlTriggeredPanelTab&&_this2.triggerBellClick();var fullScreenOptIn=isMobile;fullScreenOptIn&&_this2.config.channelTopics&&_this2.config.channelTopics.length&&!_this2.config.confirmAlertSelectTopicsLaterDisabled&&(_this2.config.confirmAlertSelectTopicsLater=!0);var isSafariMac="Mac OS"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name&&"Safari"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Xh.name;if("PREVIEW"!==_this2.config.env&&(_this2.config.autoBalanceConfirmAlert&&(_this2.config.showConfirmAlert=!_this2.checkAutoBalanceShouldShowAlert(_this2.config.autoBalanceOptInRate,_this2.config.autoBalanceMinimumOptInRate)),_this2.config.showConfirmAlertMobile&&!_this2.config.confirmAlertSelectTopicsLater&&fullScreenOptIn&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("showConfirmAlert = true 2"),_this2.config.showConfirmAlert=!0),isSafariMac&&(_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_>12||12===_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_&&_utils_env__WEBPACK_IMPORTED_MODULE_20__.KK>=1)&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("showConfirmAlert = true 3"),_this2.config.showConfirmAlert=!0,_this2.config.isSafari_12_1=!0),(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.vU)()&&_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_>=72&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("showConfirmAlert = true 4"),_this2.config.showConfirmAlert=!0),(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.un)()&&(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.qj)()&&!_this2.config.silentPromptTutorialDisabled&&_this2.displayUnblockTutorial()),_this2.config.confirmAlertHideChannelTopics||_this2.config.isSafari_12_1||!(_this2.config.channelTopics||[]).length||!(fullScreenOptIn&&!_this2.config.showConfirmAlertMobile||isSafariMac)||_this2.config.confirmAlertSelectTopicsLaterDisabled||(_this2.config.confirmAlertSelectTopicsLater=!0),_this2.config.customAttributes&&_this2.config.customAttributes.length&&_this2.config.customAttributes.filter((function(e){return!!e.askAfterOptIn})).length&&(_this2.config.confirmAlertSelectAttributesLater=!0),_this2.config.confirmAlertDisabled&&_this2.config.showConfirmAlert&&(_this2.config.showConfirmAlert=!1),_this2.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("SUBSCRIBED fired"),_this2.bell&&_this2.bell.reset(!0),_this2.confirm&&_this2.confirm.hide(),_this2.initGoogleAnalytics(e)})),_this2.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.UNSUBSCRIBED,(function(){_this2.subscriptionManager.subscribed=!1,_this2.bell&&_this2.bell.reset(!1)})),_this2.initWidgets(),_this2.initTagButtons(),_this2.initTopicButtons(),_this2.initPageBanners(),_this2.initTags(),_this2.initAttributes(),_this2.initTopics(),_this2.initConversions(),_this2.initPiano(),_this2.initTcf(),_this2.initDuplicateSubscriptions(),_this2.initSpeechbubblePanels(),_this2.subscriptionManager.isSubscribed().then((function(e){_this2.bell&&(_this2.bell.show(e),_this2.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.BELL_READY)),e&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("main subscribed = true"),_this2.subscriptionManager.subscribed=!0,_this2.subscriptionManager.iframeMessenger&&_this2.subscriptionManager.getSubscriptionId().then((function(e){_this2.subscriptionManager.iframeMessenger.setSubscribed(e)})),_this2.subscriptionManager.getSubscriptionId().then((function(e){_this2.initGoogleAnalytics(e)})))})),_this2.config.trackSessions)try{_this2.waitForSubscription().then((function(e){var t=_this2.subscriptionManager.storageManager.getLastSession(),n=function(){if(t&&t.lastInteractionAt&&t.startedAt&&new Date(t.lastInteractionAt)<new Date(Date.now()-108e3)){var n=Math.round((new Date(t.lastInteractionAt).getTime()-new Date(t.startedAt).getTime())/1e3);n>108e3?n=108e3:n<0&&(n=0),e&&_this2.api.endSession(e,{duration:n,visits:t.visits}),t={}}};n(),t.startedAt&&sessionStorage.getItem("cleverpush-session-counted")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb||(sessionStorage.setItem("cleverpush-session-counted",_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb),_this2.subscriptionManager.storageManager.getNotifications(1).then((function(t){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("getNotifications res",t);var n={};t&&t.length&&t[0]&&t[0].id&&(n.lastNotificationId=t[0].id),e&&_this2.api.startSession(e,n)})),t.startedAt=new Date,t.visits=0),t.lastInteractionAt=new Date,t.visits+=1,_this2.subscriptionManager.storageManager.setLastSession(t),window.addEventListener("unload",(function(){(t=_this2.subscriptionManager.storageManager.getLastSession())&&t.lastInteractionAt&&t.startedAt&&!(new Date(t.lastInteractionAt)>=new Date(Date.now()-108e3))||(t.lastInteractionAt=new Date),n(),_this2.subscriptionManager.storageManager.setLastSession(t)}),!1)}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn(e)}if(_this2.checkConfirmAlertFilters(configParam),_this2.config.customCss){var node=document.createElement("style");node.innerHTML=_this2.config.customCss+_const_customCssOverrides__WEBPACK_IMPORTED_MODULE_17__.Z,document.body.appendChild(node)}if(_this2.config.customJs)try{eval(_this2.config.customJs)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}if(_this2.autoTriggerOptIn(),_this2.initialized=!0,_this2.initCalled=!1,callback(!1,!0),_this2.config.exitIntentOptIn&&__webpack_require__.e(499).then(__webpack_require__.t.bind(__webpack_require__,5499,23)).then((function(e){(0,e.default)(null,{aggressive:!0,callback:function(){var e=!0;try{var t=localStorage.getItem("cleverpush-exit-intent-shown");if(t){var n=parseInt(t,_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ);!isNaN(n)&&n+864e5>Date.now()&&(e=!1)}}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error readong exit intent time",e)}e&&(_this2.config.exitIntentOncePerSession&&localStorage.setItem("cleverpush-exit-intent-shown","".concat(Date.now())),_this2.subscriptionManager.isSubscribed().then((function(e){e||_this2.triggerOptIn(!0)})))}})})),(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.MD)()&&window.location.hash&&0===window.location.hash.indexOf("#cleverPushScroll=")){var split=window.location.hash.split("=");if(split.length>1){var scrollPercent=parseInt(split[1].split("?")[0],_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ);scrollPercent&&window.scrollTo(0,scrollPercent)}}if((0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.MD)()&&"undefined"!=typeof URLSearchParams){var queryParams="";if(location.hash&&0===location.hash.indexOf("#?")&&(queryParams+=new URLSearchParams(location.hash.slice(2))),location.search&&location.search.length&&(queryParams&&(queryParams+="&"),queryParams+=location.search.slice(1)),queryParams){var _params=new URLSearchParams(queryParams);_params.get("cleverPushBypassInactiveFollowUps")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb&&(_this2.config.bypassInactiveFollowUps=!0);var importedSubscriptionId=_params.get("cleverPushOnesignalSubscriptionId")||_params.get("cleverPushAccengageSubscriptionId")||_params.get("cleverPushImportedSubscriptionId")||localStorage.getItem("cleverpush-onesignal-subscription-id")||localStorage.getItem("cleverpush-imported-subscription-id");if(_params.get("cleverPushDebugRedirect")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb){var subdomain=_this2.config.subdomain||_this2.config.channelSubdomain;if(subdomain){var status={worker:null,workerScope:null,notification:(window.Notification||{}).permission,localStorage:{"cleverpush-subscription-id":localStorage.getItem("cleverpush-subscription-id"),"cleverpush-subscription-id-old":localStorage.getItem("cleverpush-subscription-id-old"),"cleverpush-subscription-status":localStorage.getItem("cleverpush-subscription-status"),"cleverpush-last-sync":localStorage.getItem("cleverpush-last-sync"),"cleverpush-last-worker-update":localStorage.getItem("cleverpush-last-worker-update"),"cleverpush-last-worker-version":localStorage.getItem("cleverpush-last-worker-version"),"cleverpush-visits":localStorage.getItem("cleverpush-visits"),"cleverpush-close-time":localStorage.getItem("cleverpush-close-time"),"cleverpush-deny-time":localStorage.getItem("cleverpush-deny-time"),"cleverpush-topics":localStorage.getItem("cleverpush-topics"),"cleverpush-tags":localStorage.getItem("cleverpush-tags"),"cleverpush-duplicate-channels-completed":localStorage.getItem("cleverpush-duplicate-channels-completed")}};if(_this2.config.pianoEnabled&&_this2.config.pianoPublicPersistedId&&"undefined"!=typeof cX)try{status.pianoSegments=cX.getUserSegmentIds({persistedQueryId:_this2.config.pianoPublicPersistedId})}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("Error getting Piano Segments",e)}var redirect=function(){location.href="https://".concat(subdomain,".").concat(_this2.config.cleverpushDomain||"cleverpush.com","/debug?status=").concat(encodeURIComponent(JSON.stringify(status)))},registrationCount=0;navigator.serviceWorker.getRegistrations().then((function(e){e.length||redirect(),e.forEach((function(t,n){var i=_this2.subscriptionManager.getServiceWorker(t);t.pushManager.getSubscription().then((function(t){status["worker".concat(n,"Url")]=i.scriptURL,status["worker".concat(n,"Subscription")]=JSON.stringify(t),(registrationCount+=1)>=e.length&&redirect()})).catch((function(){(registrationCount+=1)>=e.length&&redirect()}))}))})).catch(redirect)}}else if(_params.get("cleverPushSubscriptionIdAlert")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb)_this2.subscriptionManager.isSubscribed().then((function(e){e?_this2.waitForSubscription().then((function(e){prompt("CleverPush Subscription ID:",e)})):alert("Dieser Browser ist keinem Push Abonnement zugeordnet.")}));else if(_params.get("cleverPushUnsubscribe")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb){var _subdomain=_this2.config.subdomain||_this2.config.channelSubdomain;_subdomain&&_this2.subscriptionManager.getSubscriptionId().then((function(e){_this2.unsubscribe((function(){location.href="https://".concat(_subdomain,".").concat(_this2.config.cleverpushDomain||"cleverpush.com","/unsubscribe?subscriptionId=").concat(e)}))}))}else if(_params.get("cleverPushTestSubscription")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb)_this2.api.testSubscription=!0,_this2.subscriptionManager.sync().then((function(){alert("Subscription has been successfully marked as Test Subscription.")}));else if(importedSubscriptionId)localStorage.setItem("cleverpush-imported-subscription-id",importedSubscriptionId),_this2.waitForSubscription().then((function(e){e&&e!==importedSubscriptionId&&(_this2.api.unsubscribe(importedSubscriptionId),localStorage.removeItem("cleverpush-imported-subscription-id"),localStorage.removeItem("cleverpush-onesignal-subscription-id"))}));else if(_params.get("cleverPushOptIn")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb){var tags;if(_params.get("cleverPushTags")){tags=_params.get("cleverPushTags").split(",");var existingText="Du hast dieses Thema bereits abonniert",keepText="Klicke auf [OK] um fortzufahren oder auf [Abbrechen] um dieses Thema zu deabonnieren.",successText="Du hast dieses Thema erfolgreich abonniert",notSubscribed=function(){tags.forEach((function(e){_this2.tagSubscription(e)})),_this2.subscribe((function(e){e&&"denied"===e.reason?_this2.subscriptionManager.confirm&&_this2.subscriptionManager.confirm.showBackdrop(void 0,"denied",(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("popup.info").formatCleverPush("<strong>".concat((0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.allowBrowser")||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.allow"),"</strong>"))):alert(successText)}))};_this2.subscriptionManager.isSubscribed().then((function(e){e?_this2.waitForSubscription().then((function(){_this2.subscriptionManager.storageManager.getTags().then((function(e){(e||[]).filter((function(e){return tags.indexOf(e)>-1})).length>=tags.length?confirm("".concat(existingText,"\n\n").concat(keepText))||tags.forEach((function(e){_this2.untagSubscription(e)})):(alert(successText),tags.forEach((function(e){_this2.tagSubscription(e)})))}))})):notSubscribed()})).catch((function(){notSubscribed()}))}else _this2.subscriptionManager.isSubscribed().then((function(e){e?_this2.waitForSubscription().then((function(){_this2.subscriptionManager.storageManager.getTopics().then((function(e){var t=(_this2.config.channelTopics||[]).filter((function(e){var t=!0;return t&&e.matchPath&&e.matchPath.length&&(t=new RegExp(e.matchPath).test(window.parent.location.pathname)),t&&e.notMatchPath&&e.notMatchPath.length&&(t=!new RegExp(e.notMatchPath).test(window.parent.location.pathname)),t}));_this2.config.confirmAlertHideChannelTopics||(e||[]).length>=(t||[]).length?alert((0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.alreadySubscribed")):((_this2.config.alertLocalization||{}).title=(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.selectTopics"),(_this2.config.alertLocalization||{}).info=" ",(_this2.config.alertLocalization||{}).allow=(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("panel.save"),_this2.confirm&&(_this2.confirm.subscribedTopics=e),_this2.triggerOptIn(!0))}))})):_this2.triggerOptIn(!0,(function(e){e&&"denied"===e.reason&&_this2.subscriptionManager.confirm&&_this2.subscriptionManager.confirm.showBackdrop(void 0,"denied",(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("popup.info").formatCleverPush("<strong>".concat((0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.allowBrowser")||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.allow"),"</strong>")))}))})).catch((function(){_this2.triggerOptIn(!0,(function(e){e&&"denied"===e.reason&&_this2.subscriptionManager.confirm&&_this2.subscriptionManager.confirm.showBackdrop(void 0,"denied",(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("popup.info").formatCleverPush("<strong>".concat((0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.allowBrowser")||(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("confirm.allow"),"</strong>")))}))}))}else _params.get("cleverPushShowBell")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb&&(_this2.config.hideNotificationBellSubscribed=!1,_this2.config.hideNotificationBellMobile=!1,_this2.config.showNotificationBell=!0);_params.get("cleverPushReferralSubscriptionId")&&!sessionStorage.getItem("cleverpush-referral-subscription-id")&&sessionStorage.setItem("cleverpush-referral-subscription-id",_params.get("cleverPushReferralSubscriptionId")),_params.get("cleverPushNotificationId")&&(_this2.subscriptionManager.setClickedNotification(_params.get("cleverPushNotificationId")),localStorage.setItem("cleverpush-notification-id",_params.get("cleverPushNotificationId")),_this2.subscriptionManager.storageManager.setNotificationRead(_params.get("cleverPushNotificationId"))),_params.get("cleverPushFollowUpCampaignId")&&sessionStorage.setItem("cleverpush-follow-up-campaign-id",_params.get("cleverPushFollowUpCampaignId"));var cleverPushVoucherCode=_params.get("cleverPushVoucherCode");cleverPushVoucherCode&&__webpack_require__.e(411).then(__webpack_require__.bind(__webpack_require__,3411)).then((function(e){var t=e.default;_this2.config.cleverPushVoucherCode=cleverPushVoucherCode,new t({title:(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("voucherpool.title"),text:(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("voucherpool.text")},_this2.config,_this2.subscriptionManager,_this2.api,"voucher").show()}))}}if(_this2.config.clickedFollowUpCampaignId=sessionStorage.getItem("cleverpush-follow-up-campaign-id"),_this2.initNotificationId(),_this2.initFollowUpCampaigns(),_this2.config.trackNotificationSessions)try{_this2.waitForSubscription().then((function(e){var t="undefined"!=typeof sessionStorage?localStorage.getItem("cleverpush-notification-id"):void 0;t&&_this2.api.trackSessionImpression(e,t)}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn(e)}var currentPathname=location.pathname;_this2.config.detectLocationIntervalEnabled&&setInterval((function(){location.pathname!==currentPathname&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Location change detected"),_this2.initFollowUpCampaigns(),_this2.initConversions(),currentPathname=location.pathname)}),250)}))}))};(0,_utils_dom__WEBPACK_IMPORTED_MODULE_8__.AE)().then(initSdk).catch((function(e){callback(e)}))}})).catch((function(e){_this2.initPageBanners();for(var t=document.querySelectorAll(".cleverpush-hide-unsupported"),n=0;n<t.length;n+=1){t[n].style.display="none"}e.warn=!0,callback(e)}))}else callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("`channelId` or `channelName` not found in config.","invalid-config"))})).catch((function(e){callback(e)}))}else if((0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.cL)(configParam)||(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.CO)(configParam)||"POPUP"===configParam.env){if(this.config=configParam,this.initWebpackPublicPath(),"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var params=new URLSearchParams(location.search.slice(1));params.get("confirmAlertTestId")&&(this.config.confirmAlertTestId=params.get("confirmAlertTestId"),this.api.setConfirmAlertTestId(this.config.confirmAlertTestId))}initSubscriptionManager(),_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Init done"),this.initialized=!0,this.initCalled=!1,callback(!1,!0)}}else callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("Required attribute `channelId` in `config` not given.","invalid-config"))}},{key:"initWebpackPublicPath",value:function(){this.config.staticEndpoint&&(__webpack_require__.p="".concat(this.config.staticEndpoint,"/sdk/"))}},{key:"displayUnblockTutorial",value:function(){this.config.showSilentPromptTutorial=!0,this.config.showConfirmAlert=!0}},{key:"setUrlSessionConfig",value:function(e){this.config.multiChannels&&this.config.multiChannels.telegramChannel&&this.config.multiChannels.telegramChannel._id!==this.config.channelId&&!e.forceChannelId?(this.config.channelId=this.config.multiChannels.telegramChannel._id,this.api.channelId=this.config.multiChannels.telegramChannel._id):this.config.multiChannels&&this.config.multiChannels.facebookChannel&&this.config.multiChannels.facebookChannel._id!==this.config.channelId&&!e.forceChannelId&&(this.config.channelId=this.config.multiChannels.facebookChannel._id,this.api.channelId=this.config.multiChannels.facebookChannel._id)}},{key:"setFacebookChannelConfig",value:function(e){this.config.multiChannels&&this.config.multiChannels.facebookChannel&&this.config.multiChannels.facebookChannel._id!==this.config.channelId&&!e.forceChannelId&&(this.config.channelId=this.config.multiChannels.facebookChannel._id,this.config.alertLocalization=_objectSpread(_objectSpread({},this.config.alertLocalization),this.config.multiChannels.facebookChannel.alertLocalization),this.api.channelId=this.config.multiChannels.facebookChannel._id),this.config.hideNotificationBellSubscribed=!0,this.config.showConfirmAlert=!0,"cleverpush-confirm-backdrop-text"===this.config.confirmAlertNativeTheme&&(this.config.confirmAlertNativeTheme=""),this.config.facebookButtonOptIn=!0,this.config.facebookCheckboxEnabled=!1}},{key:"importSubscriptionManager",value:function(e,t){var n=this;__webpack_require__(3564)("./".concat(e)).then((function(e){var i=e.default;n.subscriptionManager=new i(n.config,n.api,n.trigger.bind(n)),"denyCountGreaterThan"===t&&n.subscriptionManager.storageManager.setDenyStatus()}))}},{key:"checkConfirmAlertFilters",value:function checkConfirmAlertFilters(configParams){var _this$config$confirmA,_this4=this;null!==(_this$config$confirmA=this.config.confirmAlertFilters)&&void 0!==_this$config$confirmA&&_this$config$confirmA.length&&"PREVIEW"!==this.config.env&&this.config.confirmAlertFilters.forEach((function(filter){if("device"===filter.type&&("desktop"===filter.value&&"mobile"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type||"mobile"===filter.value&&"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type||"bot"===filter.value&&/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent))&&_this4.applyConfirmAlertFilter(filter,configParams),"referrer"===filter.type&&(_this4.referrer&&new RegExp(filter.value).test(_this4.referrer)||document.referrer&&new RegExp(filter.value).test(document.referrer))&&_this4.applyConfirmAlertFilter(filter,configParams),"path"===filter.type&&location.pathname&&new RegExp(filter.value).test(location.pathname)&&_this4.applyConfirmAlertFilter(filter,configParams),"function"===filter.type&&filter.value)try{var matches=!!eval(filter.value);matches&&_this4.applyConfirmAlertFilter(filter,configParams)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}if("userAgent"===filter.type&&navigator.userAgent&&new RegExp(filter.value).test(navigator.userAgent)&&_this4.applyConfirmAlertFilter(filter,configParams),"host"===filter.type&&location.hostname&&new RegExp(filter.value).test(location.hostname)&&_this4.applyConfirmAlertFilter(filter,configParams),"utmSource"===filter.type&&window.location.search&&window.location.search.indexOf("utm_source=".concat(filter.value))>-1&&_this4.applyConfirmAlertFilter(filter,configParams),"utmMedium"===filter.type&&window.location.search&&window.location.search.indexOf("utm_medium=".concat(filter.value))>-1&&_this4.applyConfirmAlertFilter(filter,configParams),"utmCampaign"===filter.type&&window.location.search&&window.location.search.indexOf("utm_campaign=".concat(filter.value))>-1&&_this4.applyConfirmAlertFilter(filter,configParams),"denyCountGreaterThan"===filter.type&&filter.value){var denyCount=parseInt(localStorage.getItem(_const_common__WEBPACK_IMPORTED_MODULE_21__.C5),_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ);denyCount>=Number(filter.value)&&_this4.applyConfirmAlertFilter(filter,configParams)}}))}},{key:"autoTriggerOptIn",value:function(){var e=this,t=this.subscriptionManager.storageManager.getVisits(),n=!1,i=function(){if(!n){n=!0;var i=function(){t>=e.config.alertMinimumVisits&&(setTimeout((function(){e.config.preventDuplicateOptIns&&e.config.androidPackageName&&"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((function(t){var n=!1;t&&t.forEach((function(t){t.id===e.config.androidPackageName&&(n=!0)})),n||(sessionStorage.setItem("cleverpush-alert-shown",_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb),e.triggerOptIn())})):(sessionStorage.setItem("cleverpush-alert-shown",_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb),e.triggerOptIn())}),e.config.alertTimeout),e.optInVisitorTracked||e.subscriptionManager.canSubscribe().then((function(t){!0!==t||e.optInVisitorTracked||(e.optInVisitorTracked=!0,e.api.trackOptInVisitor())})).catch((function(){})))};e.config.alertOncePerSession?sessionStorage.getItem("cleverpush-alert-shown")!==_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb&&i():i()}},r=function(){if(e.config.optInWaitForTcfDecision&&"function"==typeof __tcfapi){var t=!1,n=function(){e.config.tcfRequireVendorConsent&&e.config.tcfVendorId?__tcfapi("getCustomVendorConsents",2,(function(n){n.grants[e.config.tcfVendorId].vendorGrant?(t=!0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("__tcfapi has vendor consent, starting opt in",n),i()):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("__tcfapi no vendor consent!",n)})):(t=!0,i())};__tcfapi("getTCData",2,(function(e,i){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("__tcfapi getTCData",e),i&&e.tcString&&"cmpuishown"!==e.eventStatus?n():__tcfapi("addEventListener",2,(function(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("__tcfapi tcData event",e),!t&&e.tcString&&"cmpuishown"!==e.eventStatus&&n()}))}))}else e.config.optInWaitForTcfDecision&&_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("__tcfapi not found"),i()};if(this.config.autoRegister)if("PREVIEW"===this.config.env)this.triggerOptIn();else{if(!isNaN(this.config.alertScrollPercentage)&&this.config.alertScrollPercentage>0){var o,a=function(){(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.r0)()>=e.config.alertScrollPercentage&&(window.removeEventListener("scroll",o),r())};o=window.addEventListener("scroll",a),a()}else r();this.config.alertMinimumVisits&&this.config.alertMinimumVisits>0&&this.subscriptionManager.storageManager.incrementVisits()}this.config.showConfirmAlert&&this.config.disableConfirmAlertSearchTraffic&&this.referrer&&/google|bing|yahoo|baidu|duckduckgo|wolframalpha/.test(this.referrer)&&(this.config.showConfirmAlert=!1),this.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.PERMISSION_RE_GRANTED,(function(){e.config.autoRegister&&r()}))}},{key:"initHttpIframe",value:function(e){(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initHttpIframe",e),this.init(e)}},{key:"initWidget",value:function(e){(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initWidget",e),this.init(_objectSpread(_objectSpread({},e),{},{env:"WIDGET"}))}},{key:"initHttpPopup",value:function(e){var t=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initHttpPopup",e),e.env="POPUP","Firefox"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Xh.name&&_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_>=72&&(e.showConfirmAlert=!0,e.showConfirmAlertForce=!0),e.loadConfigFromParent&&(e.loadConfig=!1),_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("initHttpPopup calling init"),this.init(e,(function(e){if(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("initHttpPopup err",e);var n=document.getElementById("status");n?n.innerText=e.message||e.reason||e:window.opener?window.close():history.back()}else"Firefox"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Xh.name&&_utils_env__WEBPACK_IMPORTED_MODULE_20__.x_>=72&&Promise.all([__webpack_require__.e(970),__webpack_require__.e(720)]).then(__webpack_require__.bind(__webpack_require__,7720)).then((function(e){var n=e.default;_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("showConfirmAlert = true 5"),t.config.showConfirmAlert=!0,t.config.showConfirmAlertForce=!0,t.confirm=new n(t,t.subscriptionManager),t.subscriptionManager.setConfirm(t.confirm),(0,_utils_dom__WEBPACK_IMPORTED_MODULE_8__.$k)().then((function(){t.confirm.appendConfirmBox("".concat(t.config.confirmAlertNativeTheme," ").concat(t.config.confirmAlertNativeTheme,"-native")),t.confirm.denyButton&&(t.confirm.denyButton.style.display="none");var e=t.confirm.confirmBox.querySelector(".cleverpush-confirm-info");e&&(e.style.display="none")}))})),window.onbeforeunload=function(){return(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("windowclose.confirm")}}))}},{key:"initContentButtons",value:function(){return this.initWidgets()}},{key:"initWidgets",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initWidgets"),this.widgets=this.widgets||[],(this.config.widgets||[]).filter((function(e){return"selector"===e.autoAppendType})).forEach((function(e){try{if(e.autoAppendPath&&!new RegExp(e.autoAppendPath).test(window.location.pathname))return;if(e.autoAppendSelector){var t=document.querySelector(e.autoAppendSelector);if(t){var n=document.createElement("div");n.className="cleverpush-widget",n.dataset.id=e._id,e.autoAppendPosition&&"top"!==e.autoAppendPosition?"bottom"===e.autoAppendPosition&&t.appendChild(n):t.insertBefore(n,t.firstChild)}}}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn("Failed appending widget",e)}}));var t=document.querySelectorAll(".cleverpush-content-button, .cleverpush-widget");t.length&&__webpack_require__.e(789).then(__webpack_require__.bind(__webpack_require__,8789)).then((function(n){for(var i=n.default,r=function(n){var r=t[n],o=new i(n,r,e.config,e.subscriptionManager,e.api,e.trigger.bind(e));e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){o.show(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.TOPICS_SET,(function(){o.show(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.TAGS_SET,(function(){o.show(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.UNSUBSCRIBED,(function(){o.show(!1)})),e.subscriptionManager.isSubscribed().then((function(e){if(o.show(e),o.elementConfig.id&&o.element)if((0,_utils_dom__WEBPACK_IMPORTED_MODULE_8__.v4)(o.element))o.trackShown();else{window.addEventListener("scroll",(function e(){(0,_utils_dom__WEBPACK_IMPORTED_MODULE_8__.v4)(o.element)&&(window.removeEventListener("scroll",e),o.trackShown())}),!1)}})),e.widgets.push(o)},o=0;o<t.length;o+=1)r(o)}))}},{key:"initMultiPlatformWidgets",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initMultiPlatformWidgets"),this.multiPlatformWidgets=this.multiPlatformWidgets||[];var t=document.querySelectorAll(".cleverpush-multi-platform-widget");t.length&&__webpack_require__.e(491).then(__webpack_require__.bind(__webpack_require__,7491)).then((function(n){for(var i=n.default,r=function(n){var r=t[n],o=new i(n,r,e.config,e.subscriptionManager,e.api);e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){o.reset("facebook"!==e.browserType,!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.UNSUBSCRIBED,(function(){o.reset("facebook"!==e.browserType,!1)})),e.waitForInit().then((function(){r&&r.dataset&&"web-push"===r.dataset.platform&&"facebook"===e.browserType?o.show(!1,!1):(o.subscriptionManager=e.subscriptionManager,e.subscriptionManager.isSubscribed().then((function(t){o.show("facebook"!==e.browserType,t)})).catch((function(){o.show("facebook"!==e.browserType,!1)})))})).catch((function(){o.show(!1,!1)})),e.multiPlatformWidgets.push(o)},o=0;o<t.length;o+=1)r(o)}))}},{key:"initTagButtons",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initTagButtons"),this.tagButtons=this.tagButtons||[];var t=document.querySelectorAll(".cleverpush-tag-button");t.length&&__webpack_require__.e(737).then(__webpack_require__.bind(__webpack_require__,5737)).then((function(n){for(var i=n.default,r=function(n){var r=t[n],o=new i(n,r,e.config,e.subscriptionManager,e.api,e.triggerOptIn.bind(e));e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){o.reset(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.UNSUBSCRIBED,(function(){o.reset(!1)})),e.tagButtons.push(o)},o=0;o<t.length;o+=1)r(o)}))}},{key:"initTopicButtons",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initTopicButtons"),this.topicButtons=this.topicButtons||[];var t=document.querySelectorAll(".cleverpush-topic-button");t.length&&__webpack_require__.e(600).then(__webpack_require__.bind(__webpack_require__,5600)).then((function(n){for(var i=n.default,r=function(n){var r=t[n],o=new i(n,r,e.config,e.subscriptionManager,e.api,e.triggerOptIn.bind(e));e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){o.reset(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.TOPICS_SET,(function(){o.init()})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.UNSUBSCRIBED,(function(){o.reset(!1)})),e.topicButtons.push(o)},o=0;o<t.length;o+=1)r(o)}))}},{key:"initPageBanners",value:function(){var e,t=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initPageBanners"),this.pageBanners=this.pageBanners||[],this.subscriptionManager&&this.subscriptionManager.storageManager&&(e=this.subscriptionManager.storageManager),(this.config.pageBannerNotifications||[]).reduce((function(t,n){return t.then((function(t){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(i){e?e.getNotification(n._id).then((function(e){i(e?t:t.concat(n))})).catch((function(){i(t.concat(n))})):i(t.concat(n))}))}))}),promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.resolve([])).then((function(n){n.length&&__webpack_require__.e(411).then(__webpack_require__.bind(__webpack_require__,3411)).then((function(i){var r=i.default;n.forEach((function(n){var i=new r(n,t.config,t.subscriptionManager,t.api);if((!n.scheduledAt||n.scheduledAt&&n.scheduledAt<new Date)&&(!n.expiresAt||n.expiresAt>new Date)){var o=!0;o&&n.pageBannerMatchPath&&(o=new RegExp(n.pageBannerMatchPath).test(window.location.pathname)),o&&n.pageBannerNotMatchPath&&(o=!new RegExp(n.pageBannerNotMatchPath).test(window.location.pathname)),o&&(i.show(),e&&(i.onClickCallback=function(){return e.addNotification({id:n._id,url:n.url,title:n.title,text:n.text,icon:n.iconUrl,media:n.mediaUrl,autoHide:n.autoHide,subscriptionId:"",channelId:t.config.channelId,scheduledAt:n.scheduledAt,createdAt:n.createdAt,expiresAt:n.expiresAt,clicked:0,markedAsDelivered:1})}))}t.pageBanners.push(i)}))}))})),this.config.pageBannerAdblockEnabled&&(0,_utils_adblock__WEBPACK_IMPORTED_MODULE_16__.Z)((function(e){e&&(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("AdBlock detected"),__webpack_require__.e(411).then(__webpack_require__.bind(__webpack_require__,3411)).then((function(e){new(0,e.default)({id:"adblockNotification",title:t.config.pageBannerAdblockTitle||"",text:t.config.pageBannerAdblockText||"",url:t.config.pageBannerAdblockUrl},t.config,t.subscriptionManager,t.api).show()})))}))}},{key:"initChatWidget",value:function(){if(!window.cleverpushChatLoaded&&this.config.displayChatWidget&&this.config.chatWidgetPath&&new RegExp(this.config.chatWidgetPath).test(location.pathname)){var e=document.createElement("script");e.src="https://static.cleverpush.com/sdk/cleverpush-chat.js",document.head.appendChild(e)}}},{key:"initWebBanners",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initWebBanners");var t,n="cleverpush-webbanners-shown",i=localStorage.getItem(n),r=localStorage.getItem("cleverpush-banner-opened");if(i)try{t=JSON.parse(i)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error parsing JSON",e)}t||(t=[]);var o=sessionStorage.getItem(n);if(o)try{t=t.concat(JSON.parse(o))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error parsing JSON",e)}if(r)try{t=t.concat(JSON.parse(r))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("error parsing JSON",e)}this.webBanners=this.webBanners||[];var a=!1,s=(this.config.webBanners||[]).filter((function(e){return!t.includes(e._id)&&"draft"!==e.status}));if(s.length&&__webpack_require__.e(728).then(__webpack_require__.bind(__webpack_require__,8728)).then((function(i){var r=i.default;s.forEach((function(i){var o=new r(i,e.config,e.subscriptionManager,e.api,e.log),s=e.isMobile&&i.exitIntent&&i.enableRegularDisplayForMobile;if((!i.startsAt||new Date(i.startsAt)<new Date)&&(!i.endsAt||new Date(i.endsAt)>new Date))if(i.exitIntent&&!s){if(a)return;if(!e.matchBannerPathAndDomain(!0,i,!0))return;a=!0,__webpack_require__.e(499).then(__webpack_require__.t.bind(__webpack_require__,5499,23)).then((function(r){(0,r.default)(null,{aggressive:!0,callback:function(){var r=!0;(r=e.matchBannerPathAndDomain(r,i))&&e.displayWebBanner(o,t,i,n)}})}))}else{(function(){var t=!0;if((t=e.matchBannerPathAndDomain(t,i))&&i.minimumVisits){var n=localStorage.getItem("cleverpush-banner-".concat(i._id,"-visits")),r=0;if(n){var o=parseInt(n,_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ);isNaN(o)||(r=parseInt(o,_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ))}r+=1,localStorage.setItem("cleverpush-banner-".concat(i._id,"-visits"),"".concat(r)),t=t&&r>=i.minimumVisits}var a=function(){var n=[promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.resolve(t)],r=function(e){return e},o=function(e){switch(e){case"and":return"every";case"or":default:return"some"}};if(i.showOnlySubscribers&&n.push(new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z(e.isSubscribed)),i.topics&&i.topics.length>0){var a=new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){return e.getTopics((function(e,n){t(i.topics[o(i.topicsLogic)]((function(e){return n.includes(e)})))}))}));n.push(a)}if(i.excludeTopics&&i.excludeTopics.length>0){var s=new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){return e.getTopics((function(e,n){t(i.topics.every((function(e){return!n.includes(e)})))}))}));n.push(s)}if(i.tags&&i.tags.length>0){var c=promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.all(i.tags.map((function(t){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(n){return e.hasTag(t,n)}))}))).then((function(e){return e[o(i.tagsLogic)](r)}));n.push(c)}if(i.excludeTags&&i.excludeTags.length>0){var _=promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.all(i.excludeTags.map((function(t){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(n){return!e.hasTag(t,n)}))}))).then((function(e){return e.every(r)}));n.push(_)}if(i.attributes&&i.attributes.length>0){var u=promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.all(i.attributes.map((function(t){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(n){return e.hasAttribute(t.id,t.value,n)}))}))).then((function(e){return e.every(r)}));n.push(u)}return promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.all(n).then((function(e){return e.every(r)}))};return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(e){if(t&&!isNaN(i.scrollPercentage)&&i.scrollPercentage>0){var n,r=function(){(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.r0)()>=i.scrollPercentage&&(window.removeEventListener("scroll",n),a().then(e))};n=window.addEventListener("scroll",r),r()}else a().then(e)}))})().then((function(r){r&&setTimeout((function(){e.displayWebBanner(o,t,i,n)}),1e3*(i.timeout||0))}))}e.webBanners.push(o)}))})),"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var c=new URLSearchParams(location.search.slice(1));if(c.get("cleverPushWebBannerId")){var _=(this.config.webBanners||[]).find((function(e){return e._id===c.get("cleverPushWebBannerId")}));_?__webpack_require__.e(728).then(__webpack_require__.bind(__webpack_require__,8728)).then((function(t){var n=new(0,t.default)(_,e.config,e.subscriptionManager,e.api,e.log);n.show(),e.webBanners||(e.webBanners=[]),e.webBanners.push(n)})):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn("cleverPushWebBannerId parameter given but banner with that ID could not be found")}}if(this.config.appDownloadBannerEnabled&&(this.config.appDownloadBannerAndroidId&&"Android"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name||this.config.appDownloadBannerAppleId&&"iOS"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.os.name)){if(this.config.appDownloadBannerAndroidId){var u=document.createElement("meta");u.name="google-play-app",u.content="app-id=".concat(this.config.appDownloadBannerAndroidId),document.head.appendChild(u);var l=document.querySelector('link[rel="android-touch-icon"]');l||((l=document.createElement("link")).rel="android-touch-icon",l.href=this.config.channelIcon,document.head.appendChild(l))}if(this.config.appDownloadBannerAppleId){var f=document.createElement("meta");f.name="apple-itunes-app",f.content="app-id=".concat(this.config.appDownloadBannerAppleId),document.head.appendChild(f);var h=document.querySelector('link[rel="apple-touch-icon"]');h||((h=document.createElement("link")).rel="apple-touch-icon",h.href=this.config.channelIcon,document.head.appendChild(h))}var d=document.createElement("link");d.rel="stylesheet",d.href="https://cdnjs.cloudflare.com/ajax/libs/smart-app-banner/2.0.0/smart-app-banner.css",document.head.appendChild(d);var p=document.createElement("script");p.async=!0,p.src="https://cdnjs.cloudflare.com/ajax/libs/smart-app-banner/2.0.0/smart-app-banner.js",p.onload=function(){new SmartBanner({daysHidden:15,daysReminder:90,title:e.config.appDownloadBannerTitle||"",author:e.config.appDownloadBannerAuthor||"",button:"DOWNLOAD",store:{ios:"App Store",android:"Google Play",windows:"Windows store"},price:{ios:"GRATIS",android:"GRATIS",windows:"GRATIS"}})},document.head.appendChild(p)}}},{key:"displayWebBanner",value:function(e,t,n,i){if(e.show(),"once"===n.frequency)t.push(n._id),localStorage.setItem(i,JSON.stringify(t));else if("oncePerSession"===n.frequency)t.push(n._id),sessionStorage.setItem(i,JSON.stringify(t));else if("everyXSessions"===n.frequency){var r=parseInt(localStorage.getItem("".concat(i,"-sessions")),10)||0;r>=n.frequencyInterval?(localStorage.removeItem("".concat(i,"-sessions")),sessionStorage.removeItem("".concat(i,"-counted")),t.splice(t.indexOf(n._id),1)):(localStorage.setItem("".concat(i,"-sessions"),"".concat(r+1)),sessionStorage.setItem("".concat(i,"-counted"),"true"),t.includes(n._id)||t.push(n._id)),localStorage.setItem(i,JSON.stringify(t))}this.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.BANNER_SHOWN)}},{key:"matchBannerPathAndDomain",value:function matchBannerPathAndDomain(show,banner,ignoreTrafficPercentage){if(show&&banner.matchPath&&(show=new RegExp(banner.matchPath).test(window.location.pathname)),show&&banner.notMatchPath&&(show=!new RegExp(banner.notMatchPath).test(window.location.pathname)),show&&banner.matchDomain){var domain=banner.matchDomain.replace("https://","");show=new RegExp(domain).test(window.location.hostname||window.location.host)}if(show&&banner.matchQuery&&Object.keys(banner.matchQuery||{}).forEach((function(e){banner.matchQuery[e]&&(show=show&&window.location.search&&window.location.search.indexOf("".concat(e,"=").concat(banner.matchQuery[e]))>-1)})),show&&banner.matchFunction)try{show=!!eval(banner.matchFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}return!ignoreTrafficPercentage&&show&&!isNaN(banner.trafficPercentage)&&banner.trafficPercentage>0&&banner.trafficPercentage<100&&(show=banner.trafficPercentage/100>Math.random()),show}},{key:"initTags",value:function(){var e=this;this.subscriptionManager.storageManager.getTags().then((function(t){var n=e.config.channelTags;(0,_utils_tags__WEBPACK_IMPORTED_MODULE_14__.e)(n,t,e.tagSubscription.bind(e),e.waitForSubscription.bind(e),location.pathname)}))}},{key:"initAttributes",value:function initAttributes(){var _this14=this;(this.config.customAttributes||[]).forEach((function(attribute){if(attribute.javascriptFunctionEnabled&&attribute.javascriptFunction)try{var value=eval(attribute.javascriptFunction);if("object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(value)&&value.then)try{value.then((function(e){_this14.setAttribute(attribute.id,e)}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}else void 0!==value&&_this14.setAttribute(attribute.id,value)}catch(e){}}))}},{key:"showTopicLayer",value:function(e,t){var n=this;this.waitForSubscription().then((function(){n.subscriptionManager.storageManager.getTopics().then((function(i){var r=n.config.channelTopics||[],o="string"==typeof e?r.find((function(t){return t._id===e})):e;if(o&&!i.includes(o._id)){var a,s="cleverpush-topic-layerShown-".concat(o._id),c="cleverpush-topic-layer-visits-".concat(o._id);if(void 0!==t&&t.frequencyCappingVisits)if(a=t.frequencyCappingVisits,localStorage.getItem(s)===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb){var _=parseInt(localStorage.getItem(c),_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ)||_const_common__WEBPACK_IMPORTED_MODULE_21__.xl;if(localStorage.setItem(c,"".concat(_+1)),_<a)return;localStorage.removeItem(c)}(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("showTopicLayer",e);var u={title:o.layerTitle||"Mchtest du Neuigkeiten zu ".concat(o.name," erhalten?"),deny:o.layerDenyText||"Nein",allow:o.layerAllowText||"Ja",info:" "};Object.keys(u).forEach((function(e){void 0===u[e]&&delete u[e]}));var l=r.filter((function(e){return e.parentTopic===o._id})).length>0,f=n.config.layerTheme||n.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default";n.waitForConfirmAvailable().then((function(){n.subscriptionManager.confirm.appendConfirmBox(f,l,{topicsLayer:!0,customLocalization:u,parentTopic:o._id,topicsRadioButtons:o.childTopicsRadioButtons,topicsRequired:o.childTopicsRequired},(function(e,t){e&&t?(n.setTopics([].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_29__.Z)(i),(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_29__.Z)(t),[o._id])),localStorage.setItem(s,_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb)):a?localStorage.setItem(s,_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb):sessionStorage.setItem(s,_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb)}))}))}}))}))}},{key:"initTopics",value:function initTopics(){var _this16=this;this.waitForSubscription().then((function(){_this16.subscriptionManager.storageManager.getTopics().then((function(storedTopics){var topics=_this16.config.channelTopics;if(topics&&topics.length&&"undefined"!=typeof localStorage){var topicFound=!1;topics.forEach((function(topic){var topicLayerShownKey="cleverpush-topic-layerShown-".concat(topic._id),visitsStorageKey="cleverpush-topic-layer-visits-".concat(topic._id),topicMatches=topic.layerMatchPath&&new RegExp(topic.layerMatchPath).test(location.pathname);if(topic.layerFunction&&topicMatches)try{topicMatches=!!eval(topic.layerFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}if(topic.layerEnabled&&localStorage.getItem(topicLayerShownKey)!==_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb&&sessionStorage.getItem(topicLayerShownKey)!==_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb&&storedTopics.indexOf(topic<-1)&&topicMatches){if(topicFound)return;var finalizeShow=function(){_this16.showTopicLayer(topic)},show=function(){if(topicFound=!0,!isNaN(topic.layerScrollPercentage)&&topic.layerScrollPercentage>0){var e,t=function(){(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.r0)()>=topic.layerScrollPercentage&&(window.removeEventListener("scroll",e),finalizeShow())};e=window.addEventListener("scroll",t),t()}else finalizeShow()},visitsNeeded=isNaN(topic.layerMinimumVisits)?0:topic.layerMinimumVisits,visitsStorage=localStorage,visitsStr=visitsStorage.getItem(visitsStorageKey),visits=0;"string"!=typeof visitsStr||isNaN(visitsStr)||(visits=parseInt(visitsStr,_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ)),visits>=visitsNeeded?!isNaN(topic.layerTimeout)&&topic.layerTimeout?setTimeout((function(){show()}),1e3*topic.layerTimeout):show():(visits+=1,visitsStorage.setItem(visitsStorageKey,visits.toString()))}}))}}))}))}},{key:"triggerPathAndQuery",value:function(e){try{var t=e.indexOf("?!")>-1?[e]:e.split("?"),n=new RegExp(t[0]).test(location.pathname);if(n&&t.length>1)if("undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var i=new URLSearchParams(t[1]),r=new URLSearchParams(location.search.slice(1));i.forEach((function(e,t){var i=r.get(t);(i!==e&&e&&"*"!==e||!i&&"*"===e)&&(n=!1)}))}else t[1].length>1&&(n=!1);else location.search&&location.search.length&&!e.includes("?")&&"$"===e[e.length-1]&&(n=!1);return n}catch(e){return!1}}},{key:"initConversions",value:function initConversions(){var _this17=this;(this.config.channelEvents||[]).forEach((function(event){if(event&&event._id)if("path"===event.triggerType&&event.triggerPath&&_this17.triggerPathAndQuery(event.triggerPath))_this17.trackConversion(event._id);else if("function"===event.triggerType&&event.triggerFunction)try{var trigger=!!eval(event.triggerFunction);if(trigger){if(event.amountFunction)try{var amount=eval(event.amountFunction);return void _this17.trackConversion(event._id,amount)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}_this17.trackConversion(event._id)}}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}}))}},{key:"initPiano",value:function(){var e=this;(0,_utils_piano__WEBPACK_IMPORTED_MODULE_15__.tw)((function(){e.subscriptionManager&&e.subscriptionManager.isSubscribed().then((function(t){t&&e.subscriptionManager.sync().then((function(){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Piano Opt-Out")}))}))}))}},{key:"initTcf",value:function(){var e=this;this.config.tcfAutoUnsubscribe&&this.waitForInit().then((function(){__webpack_require__.e(754).then(__webpack_require__.bind(__webpack_require__,7754)).then((function(t){(0,t.default)(e.subscriptionManager)}))}))}},{key:"initDuplicateSubscriptions",value:function(){var e=this,t=this.config.duplicateChannels;t&&t.length&&this.subscriptionManager.getSubscriptionId().then((function(t){t&&Promise.all([__webpack_require__.e(251),__webpack_require__.e(8)]).then(__webpack_require__.bind(__webpack_require__,9008)).then((function(n){(0,n.default)(e.config,e.api,t)}))}))}},{key:"setUnread",value:(_setUnread=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_26__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(){var t,n,i,r=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.subscriptionManager.isSubscribed();case 3:if(n=e.sent,i=Number(localStorage.getItem(_const_common__WEBPACK_IMPORTED_MODULE_21__.jf)),!n){e.next=14;break}if(sessionStorage.getItem(_const_common__WEBPACK_IMPORTED_MODULE_21__.$t)){e.next=13;break}return e.next=9,this.getNotifications();case 9:t=e.sent,sessionStorage.setItem(_const_common__WEBPACK_IMPORTED_MODULE_21__.$t,t),e.next=14;break;case 13:i&&(t=!0);case 14:document.querySelectorAll("a[href='#cleverpush-bell-speechbubble']").forEach((function(e){t&&n?(e.classList.add(_const_common__WEBPACK_IMPORTED_MODULE_21__.Jj),!e.querySelectorAll(".cleverpush-unread-notifications-count").length&&i&&r.appendCounterElement(e)):e.classList.remove(_const_common__WEBPACK_IMPORTED_MODULE_21__.Jj)})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.info("Error while fetching notifications");case 21:case"end":return e.stop()}}),e,this,[[0,18]])}))),function(){return _setUnread.apply(this,arguments)})},{key:"appendCounterElement",value:function(e){var t=localStorage.getItem(_const_common__WEBPACK_IMPORTED_MODULE_21__.jf),n=parent.document.createElement("span");n.className="cleverpush-unread-notifications-count",n.innerText=t,e.appendChild(n)}},{key:"initSpeechbubblePanels",value:(_initSpeechbubblePanels=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_26__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(){var t,n=this;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=document.querySelectorAll("a[href='#cleverpush-bell-speechbubble']")).length>0)try{this.setUnread(),t.forEach((function(e){e.addEventListener("click",function(){var t=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_26__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function t(i){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),t.next=3,n.subscriptionManager.isSubscribed();case 3:t.sent?n.showSpeechbubbleInlinePanel(e):n.triggerOptIn(!0,(function(t,n){t&&e.classList.contains(_const_common__WEBPACK_IMPORTED_MODULE_21__.Jj)&&e.classList.remove(_const_common__WEBPACK_IMPORTED_MODULE_21__.Jj)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("Error while initializing speechbubble panels",e)}case 2:case"end":return e.stop()}}),e,this)}))),function(){return _initSpeechbubblePanels.apply(this,arguments)})},{key:"getNotifications",value:function(){var e=this;return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t,n){e.subscriptionManager.getStoredNotifications().then((function(n){var i=e.subscriptionManager.storageManager;if(i.checkUnreadNotifications){var r=i.checkUnreadNotifications(n);t(r)}else t(!1)})).catch((function(e){n(new Error(e))}))}))}},{key:"showSpeechbubbleInlinePanel",value:function(e){var t=this;this.panel?this.panel.showSpeechbubblePanel(e):__webpack_require__.e(34).then(__webpack_require__.bind(__webpack_require__,6034)).then((function(n){var i=n.default;t.panel=new i(t.config,t.subscriptionManager,t.trigger.bind(t),t.api),t.panel.showSpeechbubblePanel(e)}))}},{key:"getNotificationPermission",value:function(){var e=this;return this.waitForInit().then((function(){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){e.config.ownDomain&&"https:"===location.protocol?"safari"===e.browserType?e.config.safariWebsitePushId?t(window.safari.pushNotification.permission(e.config.safariWebsitePushId).permission):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("Safari website push ID is unknown."):"facebook"===e.browserType||"wallet"===e.browserType?t("default"):t(window.Notification.permission):e.iframeMessenger.message(_messenger_command__WEBPACK_IMPORTED_MODULE_10__.Z.REMOTE_NOTIFICATION_PERMISSION,null,(function(e){var n=e.data;t(n)}))}))}))}},{key:"push",value:function(e){if("function"==typeof e)e();else if("string"==typeof e)this.push(arguments);else{var t=e.shift();this[t].apply(this,e)}}},{key:"executeFunction",value:function(){var e=[],t=this[(e=arguments&&"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(arguments[0])?arguments[0]:arguments)[0]];"function"==typeof t&&t.apply(this,Array.prototype.slice.call(e,1))}},{key:"waitForInit",value:function(){var e=this;return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t,n){e.initFailed?n(e.initError):e.initialized?t():(e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.INITIALIZED,t),e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.INITIALIZATION_FAILED,n))}))}},{key:"waitForConfirmAvailable",value:function(){var e=this;return this.waitForInit().then((function(){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){e.confirm?t():e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.CONFIRM_AVAILABLE,t)}))}))}},{key:"waitForSubscription",value:function(){var e=this;return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t,n){e.waitForInit().then((function(){var n=function n(i){e.subscriptionManager.getSubscriptionId().then((function(r){r||i?t(r):e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,(function(){return n(!0)}))}))};e.urlSession?n():e.subscriptionManager.isSubscribed().then((function(t){t?n():e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.SUBSCRIBED,n)}))})).catch(n)}))}},{key:"waitForBell",value:function(){var e=this;return this.waitForInit().then((function(){return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(t){e.bell?t():e.once(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.BELL_READY,t)}))}))}},{key:"isSubscribed",value:function(e){var t=this;return this.waitForInit().then((function(){return t.subscriptionManager.isSubscribed().then((function(t){return e(t)}))})).catch((function(){return e(!1)}))}},{key:"getSubscriptionId",value:function(e){var t=this;return this.waitForInit().then((function(){t.subscriptionManager.isSubscribed().then((function(n){n?t.subscriptionManager.getSubscriptionId().then((function(t){e(t)})):e(!1)}))})).catch((function(){e(!1)}))}},{key:"subscribe",value:function(e){var t=this;return this.initialized?this.subscriptionManager.subscribe().then((function(){return t.subscriptionManager.getSubscriptionId().then((function(t){return e(!1,t)}))})).catch((function(t){return e(t)})):this.waitForInit().then((function(){return t.subscriptionManager.subscribe().then((function(){return t.subscriptionManager.getSubscriptionId().then((function(t){return e(!1,t)}))}))})).catch((function(t){return e(t)}))}},{key:"triggerOptIn",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("triggerOptIn",e,t);var i="function"==typeof t?t:e,r="boolean"==typeof e&&e,o="function"==typeof i?i:function(e){e&&("unsubscribed"!==e.reason&&"subscribed"!==e.reason||_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info(e.message||e),"unsupported-browser"===e.reason||"private-mode"===e.reason||"already-initialized"===e.reason||"init-already-called"===e.reason||"unsubscribed"===e.reason?_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.warn(e.message||e):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error(e.message||e))};return this.waitForConfirmAvailable().then((function(){var e=function(){n.subscriptionManager.getSubscriptionId().then((function(e){o(!1,e)}))};(r?promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.resolve(!0):n.subscriptionManager.canSubscribe()).then(function(){var t=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_26__.Z)(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark((function t(i){var r,a,s,c;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==i){t.next=10;break}return t.next=3,n.subscriptionManager.getNotificationPermission();case 3:r=t.sent,n.confirm&&(n.config.showConfirmAlert||!n.config.ownDomain||"https:"!==window.parent.location.protocol&&"localhost"!==window.top.location.hostname)?(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("this.confirm.show 1"),n.confirm.setAutoHideBackdrop("granted"===r||(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.Dt)()),n.confirm.show((function(t){t?o(t):(n.setUnread(),e())}))):n.subscriptionManager.isSubscribing||(a="default"===r||"PREVIEW"===n.config.env,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("showBackdrop",a),s=function(t){"PREVIEW"!==n.config.env&&n.subscriptionManager.subscribe().then((function(i){"function"==typeof t&&t(),n.confirm&&a&&n.confirm.hideBackdrop(i),"denied"===i?(n.confirm&&"safari"!==n.browserType&&n.confirm.showDenyAlert(),o(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("Permission for notifications was denied",i))):(n.setUnread(),e())})).catch((function(e){"function"==typeof t&&t(),n.confirm&&a&&n.confirm.hideBackdrop("denied"),o(e)}))},n.confirm&&a?(0,_utils_detect__WEBPACK_IMPORTED_MODULE_12__.F)({subscriptionManager:n.subscriptionManager,config:n.config,subscribe:s,showBackdrop:function(){n.confirm.showBackdrop()},setShowBackdrop:function(e){a=e}}):s()),c="granted"===r,n.subscriptionManager.existingPermission=c,n.config.noExistingPermissionOptIns&&c||(n.optInVisitorTracked||(n.optInVisitorTracked=!0,n.api.trackOptInVisitor()),n.api.confirmAlertShown(n.subscriptionManager.existingPermission),n.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.OPTIN_SHOWN)),t.next=11;break;case 10:o(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_19__.Z("Can not subscribe because of an unknown error","cannot-subscribe"));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){t&&"subscribed"===t.reason?(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("running successCallback()"),n.setUnread(),e()):o(t)}))})).catch((function(e){return o(e)}))}},{key:"unsubscribe",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("unsubscribe");var i="function"==typeof e?e:function(e){e&&_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error(e.stack||e.message||e)},r="boolean"==typeof t&&t;this.waitForInit().then((function(){n.subscriptionManager.unsubscribe(r).then((function(){i(!1,!0)})).catch((function(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error(e),i(!1)}))}))}},{key:"tagSubscription",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("tagSubscription",e);var i="function"==typeof t?t:function(){};this.waitForInit().then((function(){n.subscriptionManager&&n.subscriptionManager.initialTags.push(e),n.waitForSubscription().then((function(t){e?n.subscriptionManager.storageManager.getTags().then((function(r){var o=n.subscriptionManager.storageManager.getTagDate(e);r.indexOf(e)<0||!o||o.getTime()<Date.now()-432e5?(n.subscriptionManager.storageManager.setTags([].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_29__.Z)(r),[e])),n.api.tagSubscription(t,e).then((function(e){n.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.TAGS_SET),i(e)})).catch(i)):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("tag is already in stored tags")})):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("tag id not specified")}))}))}},{key:"untagSubscription",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("untagSubscription",e);var i="function"==typeof t?t:function(){};this.waitForInit().then((function(){n.waitForSubscription().then((function(t){e?(n.subscriptionManager.storageManager.getTags().then((function(t){t.splice(t.indexOf(e),1),n.subscriptionManager.storageManager.setTags(t)})),n.api.untagSubscription(t,e).then((function(e){n.trigger(_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.TAGS_SET),i(e)})).catch(i)):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("tag id not specified")}))}))}},{key:"hasTag",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("hasTag",e),this.waitForInit().then((function(){e?n.subscriptionManager.storageManager.hasTag(e).then((function(e){"function"==typeof t&&t(e)})):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("tag id not specified")}))}},{key:"hasAttribute",value:function(e,t,n){var i=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("hasAttribute",e),this.waitForInit().then((function(){e?i.subscriptionManager.storageManager.hasAttribute(e,t).then((function(e){"function"==typeof n&&n(e)})):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("attribute id not specified")}))}},{key:"setTopics",value:function(e,t){var n=this;return(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("setTopics",e),this.waitForInit().then((function(){return n.subscriptionManager?(n.subscriptionManager.setTopics(e),n.subscriptionManager.sync().then((function(){"function"==typeof t&&t()}))):promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.reject()}))}},{key:"getTopics",value:function(e){var t=this;return(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("getTopics"),"function"!=typeof e?(_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error("Please provide a callback function (err, topics) => {} to getTopics"),promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z.reject()):this.waitForInit().then((function(){t.subscriptionManager&&t.subscriptionManager.getTopics().then((function(t){e(null,t)}))}))}},{key:"setAttribute",value:function(e,t,n){var i=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("setAttribute",e,t);var r=t;"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(r)&&(r=JSON.stringify(r)),this.waitForInit().then((function(){i.waitForSubscription().then((function(o){if(o){if(localStorage.getItem("cleverpush-attribute-".concat(e))==="".concat(r))return;localStorage.setItem("cleverpush-attribute-".concat(e),r),i.api.setSubscriptionAttribute(o,e,t).then((function(){"function"==typeof n&&n(!1,!0)}))}}))}))}},{key:"incAttribute",value:function(e,t,n){var i=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("incAttribute",e,t);var r=parseInt(t,_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ);isNaN(r)&&(r=1);var o=parseInt(localStorage.getItem("cleverpush-attribute-".concat(e)),_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ)||0;o+=r,this.waitForInit().then((function(){i.waitForSubscription().then((function(t){localStorage.setItem("cleverpush-attribute-".concat(e),"".concat(o)),i.api.setSubscriptionAttribute(t,e,o).then((function(){"function"==typeof n&&n(!1,!0)}))}))}))}},{key:"getAttribute",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("getAttribute",e),this.waitForInit().then((function(){n.waitForSubscription().then((function(){t(localStorage.getItem("cleverpush-attribute-".concat(e)))}))}))}},{key:"hasAttributeValue",value:function(e,t,n){var i=t;"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(i)&&(i=JSON.stringify(i));var r=localStorage.getItem("cleverpush-attribute-".concat(e));if(r)try{var o=JSON.parse(r);if(o&&o.length)return void n(o.indexOf(i)>-1)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("Error parsing attribute value",e)}n(!1)}},{key:"pushAttributeValue",value:function(e,t,n,i){var r=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("pushAttributeValue",e,t);var o=t;"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(o)&&(o=JSON.stringify(o));var a=i,s={};"function"==typeof n?a=n:"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(n)&&(s=n),this.waitForInit().then((function(){r.waitForSubscription().then((function(n){var i=!1,c=localStorage.getItem("cleverpush-attribute-".concat(e));if(c)try{var _=JSON.parse(c);_&&_.length?_.indexOf(o)>-1?i=!0:localStorage.setItem("cleverpush-attribute-".concat(e),JSON.stringify([].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_29__.Z)(_),[o]))):localStorage.setItem("cleverpush-attribute-".concat(e),JSON.stringify([o]))}catch(t){localStorage.setItem("cleverpush-attribute-".concat(e),JSON.stringify([o]))}else localStorage.setItem("cleverpush-attribute-".concat(e),JSON.stringify([o]));i&&!s.force||r.api.pushSubscriptionAttributeValue(n,e,t).then((function(){"function"==typeof a&&a(!1,!0)}))}))}))}},{key:"pullAttributeValue",value:function(e,t,n){var i=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("pullAttributeValue",e,t);var r=t;"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(r)&&(r=JSON.stringify(r)),this.waitForInit().then((function(){i.waitForSubscription().then((function(o){var a=localStorage.getItem("cleverpush-attribute-".concat(e));if(a)try{var s=JSON.parse(a);s&&s.length&&s.indexOf(r)>-1&&(s.splice(s.indexOf(r),1),localStorage.setItem("cleverpush-attribute-".concat(e),JSON.stringify(s)))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.info("Error pulling attribute value",e)}i.api.pullSubscriptionAttributeValue(o,e,t).then((function(){"function"==typeof n&&n(!1,!0)}))}))}))}},{key:"trigger",value:function(e,t){if(t||!1===t?_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("%c".concat(e.toUpperCase(),":"),(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.To)("event"),t):_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("%c".concat(e.toUpperCase()),(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.To)("event")),(0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.jU)()){if(e===_const_event__WEBPACK_IMPORTED_MODULE_18__.Z.INITIALIZED){if(this.initialized)return;this.initialized=!0}this.emit(e,t)}}},{key:"triggerBellClick",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("triggerBellClick"),this.subscriptionManager?this.subscriptionManager.isSubscribed().then((function(t){e.bell?e.bell.onClick():t?e.panel?e.panel.show():__webpack_require__.e(34).then(__webpack_require__.bind(__webpack_require__,6034)).then((function(t){var n=t.default;e.panel=new n(e.config,e.subscriptionManager,e.trigger.bind(e),e.api),e.panel.show()})):e.triggerOptIn(!0,(function(t,n){!t&&n&&(e.setUnread(),e.panel?e.panel.show():__webpack_require__.e(34).then(__webpack_require__.bind(__webpack_require__,6034)).then((function(t){var n=t.default;e.panel=new n(e.config,e.subscriptionManager,e.trigger.bind(e),e.api),e.panel.show()})))}))})):alert((0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)("alert.unsupported"))}},{key:"hidePanel",value:function(){this.panel&&this.panel.hide()}},{key:"translate",value:function(e){return(0,_utils_translate__WEBPACK_IMPORTED_MODULE_13__.Iu)(e)}},{key:"triggerFollowUpEvent",value:function(e,t,n){var i=this,r="object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(n)?n:{};if((0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("triggerFollowUpEvent",e,t,r),this.config.clickedFollowUpCampaignId!==e){var o=function(n){if(n){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("triggerFollowUpEvent waitForSubscription done",n);var o=i.config.clickedFollowUpCampaignId===e,a="undefined"!=typeof sessionStorage?localStorage.getItem("cleverpush-notification-id"):void 0;i.api.triggerFollowUpEvent(n,e,a,t,_objectSpread({url:location.href},r),o,i.config.bypassInactiveFollowUps)}};if("triggerArticleBounce"!==t)this.waitForInit().then((function(){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug("triggerFollowUpEvent waitForInit done"),i.config.autoRegister?i.waitForSubscription().then(o):i.subscriptionManager.getSubscriptionId().then(o)}));else{var a=localStorage.getItem("cleverpush-subscription-id");o(a)}}}},{key:"initBounces",value:function(){var e=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initBounces");try{var t;if((0,_utils_env__WEBPACK_IMPORTED_MODULE_20__.MD)()&&"undefined"!=typeof URLSearchParams){var n,i;if(location.search&&location.search.length){var r=new URLSearchParams(location.search.slice(1));t=r.get("cleverPushBounceUrl"),n=r.get("cleverPushBounceDevice"),i=r.get("cleverPushNotificationId")}if(!t&&location.hash&&0===location.hash.indexOf("#?")){var o=new URLSearchParams(location.hash.slice(2));t=o.get("cleverPushBounceUrl"),n=o.get("cleverPushBounceDevice"),i||(i=o.get("cleverPushNotificationId"))}n&&("mobile"===n&&"mobile"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type||"tablet"===n&&"tablet"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type||"desktop"===n&&("table"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type||"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type))&&(t=void 0),t&&this.initBounce(t,i)}if(!t&&this.config&&this.config.bounceEnabled&&this.config.bounceFilters&&this.config.bounceFilters.length){var a=document.referrer&&(document.referrer.endsWith("cleverpush.com/worker.js")||document.referrer.endsWith(this.config.serviceWorkerFile||document.referrer.endsWith("/cleverpush-worker.js"))),s=document.referrer&&/google|bing|yahoo|baidu|duckduckgo|wolframalpha/.test(document.referrer),c=this.config.bounceFilters.find((function(t){var n=(!t.source||"notification"===t.source)&&a||"seo"===t.source&&s||(!e.referrer||e.referrer===location.href)&&"direct"===t.source||"ignore"===t.source;if(n&&t.device&&(n="mobile"===t.device&&"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type||"tablet"===t.device&&"tablet"===_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type||"desktop"===t.device&&"mobile"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type&&"tablet"!==_utils_env__WEBPACK_IMPORTED_MODULE_20__.Uh.type),n&&t.matchQuery){var i=new URLSearchParams(location.search.slice(1));Object.keys(t.matchQuery||{}).forEach((function(e){t.matchQuery[e]&&(n=n&&i.get(e)&&i.get(e).includes(t.matchQuery[e]))}))}return n}));c&&c.url&&this.initBounce(c.url,null)}sessionStorage.getItem("cleverpush-bounced")===_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb&&window.performance&&window.performance.navigation.type===window.performance.navigation.TYPE_BACK_FORWARD&&(sessionStorage.removeItem("cleverpush-bounced"),history.back())}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.error(e)}}},{key:"initBounce",value:function(e,t){var n=this;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("initBounce",e,t);if(window.history&&window.history.pushState){var i=function(){setTimeout((function(){window.addEventListener("popstate",(function(){setTimeout((function(){if(sessionStorage.getItem("cleverpush-bounced")!==_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb&&(sessionStorage.setItem("cleverpush-bounced",_const_common__WEBPACK_IMPORTED_MODULE_21__.Tb),!location.hash||location.hash.indexOf("cleverPushBounceUrl")>-1)){var i={channelId:n.config.channelId,notificationId:t,subscriptionId:n.subscriptionManager.storageManager.getSubscriptionId()};n.api.trackBounce(i),location.href=e}}),0)}),!1)}),250);var i=location.pathname+(location.search||"")+(location.hash||"");setTimeout((function(){history.pushState({cleverpushBounce:!0},document.title,location.pathname+(location.search||"")+(location.hash||"")),setTimeout((function(){history.replaceState(null,document.title,i)}),150)}),150),!0};"completed"===document.readyState||"complete"===document.readyState||"interactive"===document.readyState?i():window.addEventListener("load",i)}}},{key:"initNotificationId",value:function(){var e=localStorage.getItem("cleverpush-notification-id"),t=parseInt(localStorage.getItem("cleverpush-notification-last-interaction"),10)||0;e&&(!t||Date.now()-t<18e5)?(this.notificationId=e,localStorage.setItem("cleverpush-notification-last-interaction",Date.now())):(localStorage.removeItem("cleverpush-notification-last-interaction"),localStorage.removeItem("cleverpush-notification-id"))}},{key:"initFollowUpCampaigns",value:function initFollowUpCampaigns(){var _this50=this;if(this.config.followUpCampaigns&&this.config.followUpCampaigns.length&&this.config.followUpCampaigns.forEach((function(campaign){var triggered=!1,trigger=function trigger(triggerElement,extraVariables){triggered=!0;var variables={};campaign.triggerAutoVariables&&campaign.triggerAutoVariables.length&&campaign.triggerAutoVariables.forEach((function(variable){var variableName=variable.variable;if("scrollPercentage"!==variableName){if("js"===variable.selectorType)try{return void(variables[variableName]=eval(variable.selector))}catch(e){}if(variable.selector&&0===variable.selector.indexOf("javascript:")){var javascriptCode=variable.selector.substr("javascript:".length);try{return void(variables[variableName]=eval(javascriptCode))}catch(e){}}var element;variable.selector.split(_const_common__WEBPACK_IMPORTED_MODULE_21__.Ue).forEach((function(e){if(!element){for(var t=triggerElement,n=0;n<_const_common__WEBPACK_IMPORTED_MODULE_21__._i&&!(element=t.querySelector(e.trim()))&&(t=t.parentNode);n+=1);element||(element=document.querySelector(e.trim()))}})),element&&(variables[variableName]=(0,_utils_followUp__WEBPACK_IMPORTED_MODULE_22__.y)(element))}else variables[variableName]=window.pageYOffset})),"object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(extraVariables)&&(variables=Object.assign(variables,extraVariables));var triggerEventName="trigger".concat(campaign.triggerType[0].substr(0,1).toUpperCase()+campaign.triggerType.substr(1));_this50.triggerFollowUpEvent(campaign._id,triggerEventName,variables)};if("articleBounce"===campaign.triggerType&&0!==window.location.hash.indexOf("#cleverPushScroll")){var setupBounce=function(){window.addEventListener("unload",(function(){var e=document.querySelector(campaign.triggerArticleSelector||"article");if(e){var t=(0,_utils_dom__WEBPACK_IMPORTED_MODULE_8__.Y6)(e);t>=(campaign.triggerArticleMinScroll||0)&&t<=(campaign.triggerArticleMaxScroll||80)&&trigger(document)}}))};if(campaign.triggerFunction){var success=!1;try{success=!!eval(campaign.triggerFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}success&&setupBounce()}else setupBounce()}if("selector"===campaign.triggerType&&campaign.triggerSelector){var setupSelector=function(){for(var e=document.querySelectorAll(campaign.triggerSelector),t=function(t){var n=e[t];n&&n.addEventListener("click",(function(){trigger(n.parentNode)}),!0)},n=0;n<e.length;n+=1)t(n)};if(campaign.triggerFunction){var _success=!1;try{_success=!!eval(campaign.triggerFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}_success&&setupSelector()}else setupSelector()}if("function"===campaign.triggerType&&campaign.triggerFunction){var result;try{result=eval(campaign.triggerFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}if("object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(result)&&result.then)try{result.then((function(e){trigger(document,e)}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}else result&&trigger(document)}else"path"===campaign.triggerType&&campaign.triggerPath&&_this50.triggerPathAndQuery(campaign.triggerPath)&&_this50.triggerFollowUpEvent(campaign._id,"triggerPath");if("exitIntent"===campaign.triggerType&&__webpack_require__.e(499).then(__webpack_require__.t.bind(__webpack_require__,5499,23)).then((function(e){(0,e.default)(null,{aggressive:!0,callback:function(){trigger(document)}})})),["productAvailability","productPriceReduction"].includes(campaign.triggerType)&&campaign.triggerFunction){var productId;try{productId=eval(campaign.triggerFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}if("object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(productId)&&productId.then)try{productId.then((function(e){e&&"object"!==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(e)&&trigger(document,{id:e})}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}else productId&&trigger(document,{id:productId})}if(("selector"===campaign.cancelType||"function"===campaign.cancelType)&&campaign.cancelSelector)for(var triggerElements=document.querySelectorAll(campaign.cancelSelector),triggerElementIndex=0;triggerElementIndex<triggerElements.length;triggerElementIndex+=1){var triggerElement=triggerElements[triggerElementIndex];triggerElement&&triggerElement.addEventListener("click",(function(){_this50.triggerFollowUpEvent(campaign._id,"function"===campaign.cancelType?"cancelFunction":"cancelSelector")}),!0)}if(!triggered&&"function"===campaign.cancelType&&campaign.cancelFunction){var _result;try{_result=eval(campaign.cancelFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}if("object"===(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_27__.Z)(_result)&&_result.then)try{_result.then((function(){_this50.triggerFollowUpEvent(campaign._id,"cancelFunction")}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_7__.cM.debug(e)}else _result&&_this50.triggerFollowUpEvent(campaign._id,"cancelFunction")}else!triggered&&"path"===campaign.cancelType&&campaign.cancelPath&&_this50.triggerPathAndQuery(campaign.cancelPath)&&_this50.triggerFollowUpEvent(campaign._id,"cancelPath")})),this.config.shopifyCartAbandonmentFollowUpCampaignId){for(var addToCartButtons=document.querySelectorAll('button[name="add"], button.addtocart, a.add-to-cart'),addToCartButtonIndex=0;addToCartButtonIndex<addToCartButtons.length;addToCartButtonIndex+=1){var addToCartButton=addToCartButtons[addToCartButtonIndex];addToCartButton&&addToCartButton.addEventListener("click",(function(){_this50.triggerFollowUpEvent(_this50.config.shopifyCartAbandonmentFollowUpCampaignId,"addToCart")}),!0)}(document.documentElement&&document.documentElement.className&&document.documentElement.className.indexOf("page--thank-you")>-1||window.location&&window.location.pathname&&window.location.pathname.indexOf("thank_you")>-1)&&this.triggerFollowUpEvent(this.config.shopifyCartAbandonmentFollowUpCampaignId,"checkout")}if(this.config.epagesCartAbandonmentFollowUpCampaignId){var _addToCartButton=document.querySelector("button.product-add-cart-button");_addToCartButton&&_addToCartButton.addEventListener("click",(function(){_this50.triggerFollowUpEvent(_this50.config.epagesCartAbandonmentFollowUpCampaignId,"addToCart")}),!0),(document.documentElement&&document.documentElement.className&&document.documentElement.className.indexOf("page--thank-you")>-1||window.location&&window.location.pathname&&window.location.pathname.indexOf("thank_you")>-1)&&this.triggerFollowUpEvent(this.config.epagesCartAbandonmentFollowUpCampaignId,"checkout")}}},{key:"trackConversion",value:function(e,t,n){var i=this,r=void 0!==t?t:void 0;(0,_utils_debug__WEBPACK_IMPORTED_MODULE_7__.tI)("trackConversion",e,r),this.waitForInit().then((function(){i.subscriptionManager.getSubscriptionId().then((function(t){var o=new URLSearchParams(location.search.slice(1)).get("cleverPushNotificationId")||localStorage.getItem("cleverpush-notification-id"),a=function(){(t||o)&&(!sessionStorage.getItem("cleverpush-conversion-".concat(e,"-tracked"))||sessionStorage.getItem("cleverpush-conversion-".concat(e,"-tracked"))&&!isNaN(sessionStorage.getItem("cleverpush-conversion-".concat(e,"-tracked")))&&parseInt(sessionStorage.getItem("cleverpush-conversion-".concat(e,"-tracked")),_const_common__WEBPACK_IMPORTED_MODULE_21__.ZJ)+36e5<Date.now())&&(sessionStorage.setItem("cleverpush-conversion-".concat(e,"-tracked"),Date.now()),i.api.trackConversion(t,o,e,r,n))};o?a():i.subscriptionManager.getClickedNotification().then((function(e){o=e,a()}))}))}))}},{key:"generateWalletPass",value:function(e,t,n){var i=this;return new promise_polyfill__WEBPACK_IMPORTED_MODULE_5__.Z((function(r,o){i.api.generateWalletPass(e,t).then((function(e){"function"==typeof n&&n(null,e),r(e)})).catch((function(e){"function"==typeof n&&n(e,null),o(e)}))}))}},{key:"initGoogleAnalytics",value:function(e){var t;this.config.googleAnalyticsDimensionIndex&&"function"==typeof ga&&(ga("set","dimension".concat(this.config.googleAnalyticsDimensionIndex),e),"function"==typeof gtag&&gtag("event","cleverpushSetSubscriptionId",(t={event_category:"cleverpush",event_label:"Set CleverPush Subscription ID"},(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(t,"dimension".concat(this.config.googleAnalyticsDimensionIndex),e),(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)(t,"nonInteraction",!0),t)))}},{key:"validateUrlTriggerType",value:function(e){return Object.values(_const_common__WEBPACK_IMPORTED_MODULE_21__.Kw).includes(e)?e:null}}]),CleverPush}(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_4___default())},155:(e,t,n)=>{"use strict";n.d(t,{ZJ:()=>i,Tb:()=>r,U4:()=>o,xl:()=>a,_i:()=>s,NV:()=>c,_j:()=>_,Ue:()=>u,x4:()=>l,gd:()=>f,DZ:()=>h,k$:()=>d,$t:()=>p,Jj:()=>g,jf:()=>b,C5:()=>m,Hc:()=>v,Kw:()=>E,qq:()=>w});var i=10,r="true",o="0",a=0,s=10,c=/\s+/g,_=" ",u=",",l=864e5,f=36e5,h=6e4,d="en",p="cheverpush-speechbubble-unread-notifications",g="cp-has-unread-notifications",b="cleverpush-unread-notifications",m="cleverpush-deny-count",v="cleverpush-subscription-status",E=Object.freeze({NOTIFICATIONS:"notifications",SETTINGS:"settings"}),w={DENIED:"denied",WAS_DENIED:"was-denied",UNSUBSCRIBED:"unsubscribed",PENDING:"pending",ALLOWED:"allowed"}},1317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i="@media (min-width: 768px) {\n        .cleverpush-confirm-branding {\n            bottom: 0 !important;\n            left: 0 !important;\n        }\n\n        .cleverpush-confirm-buttons {\n            max-width: calc(100% - 80px);\n            margin-left: auto !important;\n        }\n    }"},2034:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(5991),r=n(6610),o=n(6156),a=(0,i.Z)((function e(){(0,r.Z)(this,e)}));(0,o.Z)(a,"INITIALIZED","initialized"),(0,o.Z)(a,"INITIALIZATION_FAILED","initializationFailed"),(0,o.Z)(a,"SUBSCRIBED","subscribed"),(0,o.Z)(a,"UNSUBSCRIBED","unsubscribed"),(0,o.Z)(a,"OPTIN_SHOWN","optInShown"),(0,o.Z)(a,"OPTIN_CLOSED","optInClosed"),(0,o.Z)(a,"PERMISSION_GRANTED","permissionGranted"),(0,o.Z)(a,"TOPICS_SET","topicsSet"),(0,o.Z)(a,"TAGS_SET","tagsSet"),(0,o.Z)(a,"BELL_READY","bellReady"),(0,o.Z)(a,"PERMISSION_RE_GRANTED","permissionReGranted"),(0,o.Z)(a,"PANEL_SHOWN","panelShown"),(0,o.Z)(a,"PANEL_HIDDEN","panelHidden"),(0,o.Z)(a,"CONFIRM_AVAILABLE","confirmAvailable"),(0,o.Z)(a,"BANNER_SHOWN","bannerShown")},8397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={en:{"confirm.title":"{0} wants to send you push notifications.","confirm.nativeTitle":"{0} wants to send you notifications","confirm.info":"Notifications can be turned off anytime from browser settings.","confirm.allow":"Allow","confirm.allowChrome":"Allow","confirm.allowFirefox":"Allow Notifications","confirm.allowEdge":"Yes","confirm.deny":"Deny","confirm.selectTopics":"Which topics are you interested in?","confirm.doubleText":"Please click on {0} 2x to continue","confirm.alreadySubscribed":"You have already subscribed to all topics.","confirm.silentPromptInfo":'Please click on the small bell in the address bar at the top and then on "Allow" to continue.',"confirm.more":"More","popup.info":"Click on {0} to confirm push notifications","popup.text":"Get updates and offers from {0} by subscribing to push notifications.","unsubscribe.title":"Unsubscribe from notifications","unsubscribe.confirm":"Are you sure?","unsubscribe.yes":"Yes","unsubscribe.no":"No","unsubscribe.feedback":"Please choose the unsubscribe reason to complete your unsubscription:","unsubscribe.enterReason":"Please enter the reason:","unsubscribe.submit":"Submit","unsubscribe.reasonQuantity":"Too many messages","unsubscribe.reasonContent":"Not interesting messages","unsubscribe.reasonOther":"Other reason","windowclose.confirm":"The process is not yet complete, are you sure you want to cancel it?","deny.alertHttps":"If you change your mind, click the lock to give your browser permission to send you notifications.","deny.alertHttp":"If you change your mind, click the info symbol to give your browser permission to send you notifications.","bell.subscribe":"Subscribe for notifications","bell.subscribed":"You're subscribed for notifications","bell.unsubscribeSuccess":"You won't receive notifications again","bell.hide":"Do not show again","panel.notifications":"Notifications","panel.editTopics":"Edit Topics","panel.settings":"Settings","panel.notificationsEmpty":"No notifications available.","panel.save":"Save","panel.close":"Close","panel.successfullySaved":"Successfully saved!","unblock.title":"You have blocked notifications.<br />Please follow these steps to receive notifications",privacy:"Privacy","chat.emailAddress":"Email address","chat.name":"Your name","chat.emailError":"Please enter a valid email address.","chat.start":"Start chat","chat.enable":"Enable chat now","chat.enterMessage":"Please enter message","alert.unsupported":"Unfortunately, your browser does not support notifications.","voucherpool.title":"Your voucher code","voucherpool.text":"Click here to copy your code","voucher.code.copied":"Voucher code was copied to the clipboard!","story.overlay.text":"Open story","alert.checkboxRequired":"Please tick at least one box to continue"},de:{"confirm.title":"{0} wrde dir gerne Push Nachrichten senden.","confirm.nativeTitle":"{0} mchte Ihnen Benachrichtigungen senden","confirm.info":"Benachrichtigungen knnen jederzeit in den Browser Einstellungen deaktiviert werden.","confirm.allow":"Erlauben","confirm.allowChrome":"Zulassen","confirm.allowFirefox":"Benachrichtigungen erlauben","confirm.allowEdge":"Ja","confirm.deny":"Verbieten","confirm.selectTopics":"Welche Themen interessieren Dich?","confirm.doubleText":"Bitte besttige 2x mit {0} um fortzufahren","confirm.alreadySubscribed":"Du hast dich bereits fr alle Themen angemeldet.","confirm.silentPromptInfo":'Bitte klicke auf die kleine Glocke oben in der Adresszeile und dann auf "Erlauben" um fortzufahren.',"confirm.more":"Mehr","popup.info":"Klicke auf {0}, um unsere Push-Benachrichtigungen zu besttigen","popup.text":"Erhalte Updates und Angebote von {0}, indem du Push-Benachrichtigungen abonnierst.","unsubscribe.title":"Von Benachrichtigungen abmelden","unsubscribe.confirm":"Bist du dir sicher?","unsubscribe.yes":"Ja","unsubscribe.no":"Nein","unsubscribe.feedback":"Bitte whle den Abmelde-Grund aus um deine Abmeldung zu besttigen:","unsubscribe.enterReason":"Bitte gib den Grund ein:","unsubscribe.submit":"Absenden","unsubscribe.reasonQuantity":"Zu viele Nachrichten","unsubscribe.reasonContent":"Uninteressante Nachrichten","unsubscribe.reasonOther":"Anderer Grund","windowclose.confirm":"Der Vorgang ist noch nicht abgeschlossen, bist du sicher, dass du ihn abbrechen mchtest?","deny.alertHttps":'Wenn du doch Benachrichtigungen empfangen mchtest, kannst du mit einem Klick auf das Schloss die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"deny.alertHttp":'Wenn du doch Benachrichtigungen empfangen mchtest, kannst du mit einem Klick auf das Info-Symbol die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"bell.subscribe":"Fr Benachrichtigungen anmelden","bell.subscribed":"Du bist fr Benachrichtigungen angemeldet","bell.unsubscribeSuccess":"Du wirst keine Benachrichtigungen mehr erhalten","bell.hide":"Nicht mehr anzeigen","panel.notifications":"Nachrichten","panel.editTopics":"Themenbereiche bearbeiten","panel.settings":"Einstellungen","panel.notificationsEmpty":"Keine Nachrichten vorhanden.","panel.save":"Speichern","panel.close":"Schlie&szlig;en","panel.successfullySaved":"Erfolgreich gespeichert!","unblock.title":"Du hast Benachrichtigungen blockiert.<br />Bitte folge diesen Schritten um Benachrichtigungen zu empfangen",privacy:"Datenschutz","chat.emailAddress":"E-Mail Adresse","chat.name":"Dein Name","chat.emailError":"Bitte gib eine gltige E-Mail Adresse ein.","chat.start":"Chat starten","chat.enable":"Chat jetzt aktivieren","chat.enterMessage":"Bitte Nachricht eingeben","alert.unsupported":"Dein Browser untersttzt leider keine Benachrichtigungen.","voucherpool.title":"Dein Gutscheincode","voucherpool.text":"Klicke hier um deinen Code zu kopieren","voucher.code.copied":"Gutscheincode wurde in die Zwischenablage kopiert!","story.overlay.text":"Story ffnen","alert.checkboxRequired":"Bitte whle mindestens einen Themenbereich aus"},"de-formal":{"confirm.title":"{0} wrde Ihnen gerne Push Nachrichten senden.","confirm.nativeTitle":"{0} mchte Ihnen Benachrichtigungen senden","confirm.info":"Benachrichtigungen knnen jederzeit in den Browser Einstellungen deaktiviert werden.","confirm.allow":"Erlauben","confirm.allowChrome":"Zulassen","confirm.allowFirefox":"Benachrichtigungen erlauben","confirm.allowEdge":"Ja","confirm.deny":"Verbieten","confirm.selectTopics":"Welche Themen interessieren Sie?","confirm.doubleText":"Bitte besttigen Sie 2x mit {0} um fortzufahren","confirm.alreadySubscribed":"Sie haben sich bereits fr alle Themen angemeldet.","confirm.silentPromptInfo":'Bitte klicken Sie auf die kleine Glocke oben in der Adresszeile und dann auf "Erlauben" um fortzufahren.',"confirm.more":"Mehr","popup.info":"Klicken Sie auf {0}, um unsere Push-Benachrichtigungen zu besttigen","popup.text":"Erhalten Sie Updates und Angebote von {0}, indem Sie Push-Benachrichtigungen abonnieren.","unsubscribe.title":"Von Benachrichtigungen abmelden","unsubscribe.confirm":"Sind Sie sich sicher?","unsubscribe.yes":"Ja","unsubscribe.no":"Nein","unsubscribe.feedback":"Bitte whlen Sie den Abmelde-Grund aus um Ihre Abmeldung zu besttigen:","unsubscribe.enterReason":"Bitte geben Sie den Grund ein:","unsubscribe.submit":"Absenden","unsubscribe.reasonQuantity":"Zu viele Nachrichten","unsubscribe.reasonContent":"Uninteressante Nachrichten","unsubscribe.reasonOther":"Anderer Grund","windowclose.confirm":"Der Vorgang ist noch nicht abgeschlossen, sind Sie sich sicher, dass Sie ihn abbrechen mchten?","deny.alertHttps":'Wenn Sie doch Benachrichtigungen empfangen mchten, knnen Sie mit einem Klick auf das Schloss die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"deny.alertHttp":'Wenn Sie doch Benachrichtigungen empfangen mchten, knnen Sie mit einem Klick auf das Info-Symbol die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"bell.subscribe":"Fr Benachrichtigungen anmelden","bell.subscribed":"Sie sind fr Benachrichtigungen angemeldet","bell.unsubscribeSuccess":"Sie werden keine Benachrichtigungen mehr erhalten","panel.notifications":"Benachrichtigungen","panel.editTopics":"Themenbereiche bearbeiten","panel.settings":"Einstellungen","panel.notificationsEmpty":"Keine Benachrichtigungen vorhanden.","panel.save":"Speichern","panel.close":"Schlie&szlig;en","panel.successfullySaved":"Erfolgreich gespeichert!","unblock.title":"Sie haben Benachrichtigungen blockiert.<br />Bitte folgen Sie diesen Schritten um Benachrichtigungen zu empfangen",privacy:"Datenschutz","chat.emailAddress":"E-Mail Adresse","chat.name":"Ihr Name","chat.emailError":"Bitte geben Sie eine gltige E-Mail Adresse ein.","chat.start":"Chat starten","chat.enable":"Chat jetzt aktivieren","chat.enterMessage":"Bitte Nachricht eingeben","alert.unsupported":"Ihr Browser untersttzt leider keine Benachrichtigungen.","voucherpool.title":"Dein Gutscheincode","voucherpool.text":"Klicken Sie hier um Ihren Code zu kopieren","voucher.code.copied":"Gutscheincode wurde in die Zwischenablage kopiert!","story.overlay.text":"Story ffnen","alert.checkboxRequired":"Bitte whlen Sie mindestens einen Themenbereich aus"}}},4740:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(5991),r=n(6610),o=n(3349),a=n(379),s=n(6070),c=n(7608);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var u=function(e){(0,a.Z)(n,e);var t=_(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).name=a.constructor.name,a.reason=i,"function"==typeof Error.captureStackTrace?Error.captureStackTrace((0,o.Z)(a),a.constructor):a.stack=new Error(e).stack,a}return(0,i.Z)(n)}((0,n(3415).Z)(Error))},2136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(5991),r=n(6610),o=n(6156),a=(0,i.Z)((function e(){(0,r.Z)(this,e)}));(0,o.Z)(a,"CONNECTED","connect"),(0,o.Z)(a,"REMOTE_NOTIFICATION_PERMISSION","cleverpush.remoteNotificationPermission"),(0,o.Z)(a,"REMOTE_OPERATION_COMPLETE","cleverpush.operationComplete"),(0,o.Z)(a,"REMOTE_RETRIGGER_EVENT","cleverpush.remoteRetriggerEvent"),(0,o.Z)(a,"MODAL_LOADED","cleverpush.modalPrompt.loaded"),(0,o.Z)(a,"MODAL_PROMPT_ACCEPTED","cleverpush.modalPrompt.accepted"),(0,o.Z)(a,"MODAL_PROMPT_REJECTED","cleverpush.modalPrompt.canceled"),(0,o.Z)(a,"POPUP_LOADED","cleverpush.popup.loaded"),(0,o.Z)(a,"POPUP_ACCEPTED","cleverpush.popup.accepted"),(0,o.Z)(a,"POPUP_REJECTED","cleverpush.popup.canceled"),(0,o.Z)(a,"POPUP_CLOSING","cleverpush.popup.closing"),(0,o.Z)(a,"REMOTE_NOTIFICATION_PERMISSION_CHANGED","cleverpush.remoteNotificationPermissionChanged"),(0,o.Z)(a,"IFRAME_POPUP_INITIALIZE","cleverpush.iframePopupInitialize"),(0,o.Z)(a,"UNSUBSCRIBE_FROM_PUSH","cleverpush.unsubscribeFromPush"),(0,o.Z)(a,"BEGIN_BROWSING_SESSION","cleverpush.beginBrowsingSession"),(0,o.Z)(a,"REQUEST_HOST_URL","cleverpush.requestHostUrl"),(0,o.Z)(a,"SHOW_HTTP_PERMISSION_REQUEST","cleverpush.showHttpPermissionRequest"),(0,o.Z)(a,"IS_SHOWING_HTTP_PERMISSION_REQUEST","cleverpush.isShowingHttpPermissionRequest"),(0,o.Z)(a,"WINDOW_TIMEOUT","cleverpush.windowTimeout"),(0,o.Z)(a,"FINISH_REMOTE_REGISTRATION","cleverpush.finishRemoteRegistration"),(0,o.Z)(a,"FINISH_REMOTE_REGISTRATION_IN_PROGRESS","cleverpush.finishRemoteRegistrationInProgress"),(0,o.Z)(a,"POPUP_BEGIN_MESSAGEPORT_COMMS","cleverpush.beginMessagePortComms"),(0,o.Z)(a,"SERVICEWORKER_COMMAND_REDIRECT","cleverpush.command.redirect"),(0,o.Z)(a,"HTTP_PERMISSION_REQUEST_RESUBSCRIBE","cleverpush.httpPermissionRequestResubscribe"),(0,o.Z)(a,"MARK_PROMPT_DISMISSED","cleverpush.markPromptDismissed")},1328:(e,t,n)=>{"use strict";function i(e){var t=!1,n=document.createElement("div");n.innerHTML="&nbsp;",n.className="adsbox",document.body.appendChild(n),window.setTimeout((function(){0===n.offsetHeight&&(t=!0),n.remove(),e(t)}),100)}n.d(t,{Z:()=>i})},1078:(e,t,n)=>{"use strict";n.d(t,{cM:()=>a,To:()=>c,tI:()=>u});var i=n(2043),r=n(7159),o=i.methodFactory,a=i.getLogger("cleverpush"),s=(0,r.dU)().toUpperCase();function c(e){return"code"===e?'\n    padding: 0 1px 1px 5px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    font-family: Monaco,"DejaVu Sans Mono","Courier New",monospace;\n    color: #444;\n    ':"bold"===e?"\n    font-weight: 600;\n    color: rgb(51, 51, 51);\n    ":"alert"===e?"\n    font-weight: 600;\n    color: red;\n    ":""}function _(e){return JSON.stringify(e,(function(e,t){return"function"==typeof t?"[Function]":t}),4)}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return a.debug("Called %c".concat(e,"(").concat(n.map(_).join(", "),")"),c("code"),".")}a.methodFactory=function(e,t,n){var i=o(e,t,n);return function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];0===t&&"string"==typeof arguments[t]&&(n="[CleverPush][".concat(s,"] ").concat(n)),e.push(n)}i.apply(this,e)}},a.setLevel(a.getLevel(),!1)},6716:(e,t,n)=>{"use strict";n.d(t,{F:()=>a});var i=n(5895),r=n(1078),o=n(7159),a=function(e){var t=e.subscriptionManager,n=e.config,a=e.subscribe,s=e.showBackdrop,c=e.setShowBackdrop,_=e.showSilentAlert;if("safari"===n.browserType){r.cM.debug("starting safariBlurChecker"),function e(n){"default"===t.getNotificationPermission()&&(document.hasFocus()?n<300?setTimeout((function(){e(n+1)}),100):r.cM.debug("safariBlurChecker waited 30 secs without success"):(r.cM.debug("safariBlurChecker success"),s()))}(0),a&&a()}else{var u=function(){(0,i.$k)().then((function(){var e=!0;if("PREVIEW"===n.env)s();else{var t,i=!1,c=function n(){i||(r.cM.debug("Blur checker fired"),t&&clearTimeout(t),window.removeEventListener("blur",n),i=!0,e&&s())};window.addEventListener("blur",c),t=setTimeout((function(){r.cM.debug("Blur checker cancelled"),window.removeEventListener("blur",c),!_||"mobile"===o.Uh.type||["Firefox","Mozilla"].includes(o.Xh.name)||"Edge"===o.Xh.name&&!n.showSilentPromptTutorial||_()}),2e3)}a&&a((function(){e=!1}))}))};"w3c"===n.browserType&&"storage"in navigator&&"estimate"in navigator.storage?navigator.storage.estimate().then((function(e){e.quota<=120*Math.pow(2,20)?(c&&c(!1),r.cM.debug("We are *probably* in incognito (used chrome 76 detection method). Will not show backdrop + layer."),a&&(0,i.$k)().then((function(){a()}))):u()})):u()}}},5895:(e,t,n)=>{"use strict";function i(){return new Promise((function(e){if("complete"===document.readyState)e();else{var t=function t(){e(),document.removeEventListener("DOMContentLoaded",t,!0),window.removeEventListener("load",t,!0)};document.addEventListener("DOMContentLoaded",t,!0),window.addEventListener("load",t,!0)}}))}function r(){return new Promise((function(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",(function(){"loading"!==document.readyState&&e()}))}))}function o(e){var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild);return t}function a(e,t,n){e.style.opacity=0;var i=+new Date;!function r(){var o=+e.style.opacity+(new Date-i)/t;o>1&&(o=1),e.style.opacity=o,i=+new Date,+e.style.opacity<1?window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16):"function"==typeof n&&n()}()}function s(e,t,n){e.style.opacity=1;var i=+new Date;!function r(){var o=+e.style.opacity-(new Date-i)/t;o<0&&(o=0),e.style.opacity=o,i=+new Date,+e.style.opacity>0?window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16):"function"==typeof n&&n()}()}function c(e){for(var t=e.offsetTop,n=e.offsetLeft,i=e.offsetWidth,r=e.offsetHeight,o=e;o.offsetParent;)t+=(o=o.offsetParent).offsetTop,n+=o.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+r>window.pageYOffset&&n+i>window.pageXOffset}function _(e){var t=window.pageYOffset,n=e.getBoundingClientRect(),i=n.top+t,r=i+n.height,o=(window.pageYOffset-i)/(r-window.innerHeight-i)*100;return o<0?0:o>100?100:o}n.d(t,{$k:()=>i,AE:()=>r,dS:()=>o,Ji:()=>a,U6:()=>s,v4:()=>c,Y6:()=>_})},7159:(e,t,n)=>{"use strict";n.d(t,{Xh:()=>h,os:()=>d,Uh:()=>p,x_:()=>m,KK:()=>v,T5:()=>P,vU:()=>O,un:()=>I,qj:()=>y,bX:()=>D,ct:()=>T,dU:()=>C,MD:()=>A,jU:()=>S,Dt:()=>k,CO:()=>B,io:()=>L,cL:()=>R,r0:()=>U,H$:()=>W});var i=n(484),r=n(2238),o=n.n(r),a=n(4740),s="serviceWorker",c="host",_="popup",u="iframe",l="customSubdomain",f=new(o()),h=f.getBrowser(),d=f.getOS(),p=f.getDevice(),g=88,b=h.version?h.version.split("."):["0"],m=h.version?parseInt(b[0],10):0,v=b.length>1?parseInt(b[1],10):0,E=h.name,w={CHROME:"Chrome",FIREFOX:"Firefox",EDGE:"Edge",CHROMIUM:"Chromium",OPERA:"Opera"},P={GRANT:"grant",DENIED:"denied",SILENT:"silentPrompt"},M=84;function O(){return E===w.FIREFOX}function I(){return E===w.EDGE}function y(){return m>=M&&m<=g}function D(){return E===w.CHROME||E===w.CHROMIUM||E===w.OPERA||E===w.CHROMIUM}function T(){return m>=g}function C(e){if("undefined"!=typeof window){var t=e;if(t||(t=(window.CleverPush||{}).config||{}),t&&"HOST"===t.env)return c;if(window===window.top){var n=t.cleverpushDomain;if("POPUP"===t.env||location.hostname.indexOf(".cleverpush.com")>-1){if(0===location.pathname.indexOf("/subscribe"))return _}else if(n&&location.hostname.indexOf(".".concat(n))>-1&&0===location.pathname.indexOf("/subscribe"))return _;return c}return 0===location.pathname.indexOf("/iframe")||0===location.pathname.indexOf("/referrals")?u:l}return"undefined"!=typeof WorkerLocation&&location instanceof WorkerLocation?s:null}function A(e){return C(e)===c}function S(){return"undefined"!=typeof window}function k(){return/Android/.test(navigator.userAgent)}function B(e){return C(e)===_&&S()}function L(){return location.hostname.indexOf(".cleverpush.com")>-1&&0===location.pathname.indexOf("/unsubscribe")&&S()}function R(e){return C(e)===u&&S()}function U(){var e=document.documentElement,t=document.body,n="scrollTop",i="scrollHeight";return(e[n]||t[n])/((e[i]||t[i])-e.clientHeight)*100}function W(){var e=!0,t=null;return new Promise((function(n,r){new Promise((function(e){var t=function(){return e(!0)},n=function(){return e(!1)};if(!window.webkitRequestFileSystem){if("MozAppearance"in document.documentElement.style){var i=indexedDB.open("test");return i.onerror=t,void(i.onsuccess=n)}if(/constructor/i.test(window.HTMLElement)||navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")<0&&navigator.userAgent.indexOf("FxiOS")<0){if(void 0!==window.openDatabase)try{window.openDatabase(null,null,null,null),window.localStorage.setItem("test",1)}catch(e){return t()}return function(){try{localStorage.length?n():(localStorage.x=1,localStorage.removeItem("x"),n())}catch(e){navigator.cookieEnabled?t():n()}}()}return window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?n():t()}window.webkitRequestFileSystem(0,0,n,t)})).then((function(o){o?(e=!1,t=null,r(new a.Z("Private browsing mode not supported.","private-mode"))):("safari"in window&&"object"===(0,i.Z)(window.safari)&&"pushNotification"in window.safari?t="safari":void 0!==window.Notification&&("serviceWorker"in navigator||"http:"===location.protocol)?t="w3c":(e=!1,t=null,r(new a.Z("Browser is not supported.","unsupported-browser"))),e&&"safari"!==t&&"ios"!==t&&("http:"===location.protocol||"showNotification"in ServiceWorkerRegistration.prototype?"PushManager"in window||(e=!1,r(new a.Z("Push messaging isn't supported.","unsupported-browser"))):(e=!1,r(new a.Z("Notifications aren't supported.","unsupported-browser"))),"serviceWorker"in navigator||"http:"===location.protocol||(e=!1,r(new a.Z("Service workers are not supported.","unsupported-browser"))),navigator.userAgent.indexOf("Iron")>-1&&navigator.userAgent.indexOf("Chrome")>-1&&(e=!1,r(new a.Z("SRWare Iron does not support push","unsupported-browser")))),e&&(window.self===window.top&&"w3c"===t&&navigator.serviceWorker&&"function"==typeof navigator.serviceWorker.getRegistrations?navigator.serviceWorker.getRegistrations().then((function(){return n(t)})).catch((function(){return r(new a.Z("Service workers are not supported","unsupported-browser"))})):n(t)))}))}))}},8158:(e,t,n)=>{"use strict";n.d(t,{y:()=>_});var i=n(155),r="img",o="a",a="input",s="textarea",c="meta",_=function(e){var t=e.tagName.toLowerCase();return t===r&&(e.src||e.dataset&&e.dataset.src)?e.src||e.dataset&&e.dataset.src:t===o&&e.href?e.href:t!==a&&t!==s||!e.value?t===c&&e.content?e.content:(e.textContent||e.innerText).trim().replace(i.NV,i._j):e.value}},5632:(e,t,n)=>{"use strict";n.d(t,{tw:()=>f,Cu:()=>h,kb:()=>d});var i=n(7757),r=n.n(i),o=n(6156),a=n(484),s=n(2137);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=[],l=!0;(0,s.Z)(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof __tcfapi||"object"!==("undefined"==typeof UC_UI?"undefined":(0,a.Z)(UC_UI))){e.next=8;break}return t=function(){return new Promise((function(e){new Promise((function(e){window.UC_UI&&window.UC_UI.getTCFVendors?e(window.UC_UI.getTCFVendors()):__tcfapi("getVendorList",2,(function(t,n){if(n&&t.vendors){var i=Object.values(t.vendors);e(i)}else e(null)}))})).then((function(t){if(t){var n=t.find((function(e){return e.name&&(e.name.toLowerCase().indexOf("cxense")>-1||e.name.toLowerCase().indexOf("piano")>-1)}));n?__tcfapi("getTCData",2,(function(t,i){i&&t.vendor&&t.vendor.consents?e(_(_({},n),{},{consent:{status:t.vendor.consents[n.id]}})):e(null)})):e(null)}else e(null)}))}))},l=!1,e.next=5,t();case 5:(n=e.sent)&&(l=n.consent.status),__tcfapi("addEventListener",2,function(){var e=(0,s.Z)(r().mark((function e(i){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t();case 4:(n=e.sent)&&(o=n.consent.status)!==l&&(l=o,u.forEach((function(e){return"function"==typeof e&&e(l)})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})))();var f=function(e){return u.push(e)},h=function(){return new Promise((function(e){var t,n=!1,i=setTimeout((function(){n=!0,e({})}),1e4);(t=2e3,new Promise((function(e){if(l)return e(!0);Promise.race([new Promise((function(e){setTimeout(e,t)})),new Promise((function(e){f(e)}))]).then(e)}))).then((function(){if(l){var t=window.cX||{};t.callQueue=t.callQueue||[],t.callQueue.push(["getUserSegmentIds",{persistedQueryId:self.CleverPush.config.pianoPublicPersistedId,callback:function(t){n||(clearTimeout(i),n=!0,e({segments:t}))}}])}else{if(n)return;clearTimeout(i),n=!0,e({segments:[],userId:"optout"})}}))}))},d=function(){var e=(0,s.Z)(r().mark((function e(){var t,n,i,o,a,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return t=e.sent,n=t.segments,i=JSON.stringify(n),o=(new TextEncoder).encode(i),e.next=8,crypto.subtle.digest("SHA-256",o);case 8:return a=e.sent,s=Array.from(new Uint8Array(a)),c=s.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},5401:()=>{Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=t[r];if(e.call(i,o,r,t))return o;r++}},configurable:!0,writable:!0})},1624:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(4740);function r(e){return new Promise((function(t){return e.json().then((function(n){return t({status:e.status,ok:e.ok,json:n})})).catch((function(){return t({status:e.status,ok:e.ok,json:null})}))}))}function o(e,t){return new Promise((function(n,o){(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return Promise.race([fetch(e,t),new Promise((function(e,t){return setTimeout((function(){return t(new Error("request timeout"))}),n)}))])})(e,t,t.timeout||1e4).then(r).then((function(e){return e.ok?n(e.json):o(new i.Z(e.json?e.json.error:"HTTP Error",e.status))})).catch((function(e){return o(e)}))}))}},9800:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>checkTags});var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(484),_debug__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1078),autoAssignTagMatches=function autoAssignTagMatches(tag,pathname,callback){if(tag.autoAssignPath){var path=tag.autoAssignPath;if("[EMPTY]"===path&&(path=""),!new RegExp(path).test(pathname))return;if(!tag.autoAssignFunction&&!tag.autoAssignSelector)return callback(!0)}if(tag.autoAssignFunction)try{if(tag.autoAssignCheckInterval&&!isNaN(tag.autoAssignCheckInterval)){var interval=setInterval((function(){try{var matches=eval(tag.autoAssignFunction);if("promise"==typeof matches&&matches.then)try{matches.then((function(){clearInterval(interval),callback(!0)}))}catch(e){}else matches&&(clearInterval(interval),callback(!0))}catch(e){_debug__WEBPACK_IMPORTED_MODULE_0__.cM.debug(e)}}),tag.autoAssignCheckInterval);return null}return callback(!!eval(tag.autoAssignFunction))}catch(e){_debug__WEBPACK_IMPORTED_MODULE_0__.cM.debug(e)}if(tag.autoAssignSelector)try{for(var triggerElems=document.querySelectorAll(tag.autoAssignSelector),triggerElemIndex=0;triggerElemIndex<triggerElems.length;triggerElemIndex+=1){var triggerElem=triggerElems[triggerElemIndex];triggerElem&&triggerElem.addEventListener("click",(function(){callback(!0)}))}return null}catch(e){_debug__WEBPACK_IMPORTED_MODULE_0__.cM.debug(e)}return callback(!1)},checkTags=function(e,t,n,i,r){(0,_debug__WEBPACK_IMPORTED_MODULE_0__.tI)("checkTags"),e&&e.length&&"undefined"!=typeof localStorage&&e.forEach((function(e){autoAssignTagMatches(e,r,(function(t){if(t){var r,o=isNaN(e.autoAssignVisits)?0:e.autoAssignVisits,a="cleverpush-tag-autoAssignVisits-".concat(e._id),s=e.autoAssignSessionVisits?sessionStorage:localStorage,c=(new Date).toISOString().substr(0,10);e.autoAssignDays&&(r=new Date).setDate(r.getDate()-e.autoAssignDays);var _=s.getItem(a),u=0,l={};if(e.autoAssignDays)try{l=JSON.parse(_)||{},"object"!==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__.Z)(l)&&(l={}),Object.keys(l||{}).forEach((function(e){new Date(e)>=r?u+=l[e]||0:delete l[e]}))}catch(e){l={}}else"string"!=typeof _||isNaN(_)||(u=parseInt(_,10));var f=isNaN(e.autoAssignSessions)?0:e.autoAssignSessions,h="cleverpush-tag-autoAssignSessions-".concat(e._id),d="cleverpush-tag-autoAssignSessionsCounted-".concat(e._id),p=localStorage.getItem(h),g=0,b={};if(e.autoAssignDays)try{b=JSON.parse(p)||{},"object"!==(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__.Z)(b)&&(b={}),Object.keys(b||{}).forEach((function(e){new Date(e)>=r?g+=b[e]||0:delete b[e]}))}catch(e){b={}}else"string"!=typeof p||isNaN(p)||(g=parseInt(p,10));g>=f?u>=o?!isNaN(e.autoAssignSeconds)&&e.autoAssignSeconds?setTimeout((function(){n(e._id)}),1e3*e.autoAssignSeconds):n(e._id):e.autoAssignDays?(l[c]||(l[c]=0),l[c]+=1,i().then((function(){localStorage.setItem(a,JSON.stringify(l))}))):(u+=1,i().then((function(){s.setItem(a,u.toString())}))):e.autoAssignDays?(l[c]||(l[c]=0),l[c]+=1,i().then((function(){localStorage.setItem(a,JSON.stringify(l))})),"true"!==sessionStorage.getItem(d)&&(b[c]||(b[c]=0),b[c]+=1,i().then((function(){sessionStorage.setItem(d,"true"),localStorage.setItem(h,JSON.stringify(b))})))):(u+=1,i().then((function(){s.setItem(a,u.toString())})),"true"!==sessionStorage.getItem(d)&&(g+=1,i().then((function(){sessionStorage.setItem(d,"true"),localStorage.setItem(h,g.toString())}))))}}))}))}},3114:(e,t,n)=>{"use strict";n.d(t,{ej:()=>s,RG:()=>c,Iu:()=>_});var i=n(2238),r=n.n(i),o=n(8397),a="en",s=function(e){return null!=e&&e.enableTranslationLanguageFromHTML&&document.documentElement.lang?document.documentElement.lang.substring(0,2):(null==e?void 0:e.language)||(navigator.language||navigator.userLanguage||"").substr(0,2)||a};function c(e){if(!e)return e;var t=e,n=(document.characterSet||"").toLowerCase();if(n.indexOf("windows-1252")>-1||n.indexOf("iso-8859")>-1)try{var i=escape(e);i=(i=i.replace(new RegExp("%E2%u20AC%u017E","g"),"%E2%80%9E")).replace(new RegExp("%E2%u20AC%u0153","g"),"%E2%80%9C"),t=decodeURIComponent(i)}catch(n){t=new TextDecoder("utf-8").decode(Uint8Array.from(e,(function(e){return e.charCodeAt(0)})))}return t}function _(e,t){var n=s((window.CleverPush||{config:{}}).config);n="de-formal"!==n?n.substr(0,2).toLowerCase():n,o.Z.hasOwnProperty(n)||(n=a);var i,_=e;if("confirm.allowBrowser"===_){_="confirm.allow";var u=new(r());"Chrome"===u.getBrowser().name?_="confirm.allowChrome":"Firefox"===u.getBrowser().name?_="confirm.allowFirefox":"Edge"===u.getBrowser().name&&(_="confirm.allowEdge")}else"deny.alert"===_&&(_="https:"===location.protocol?"deny.alertHttps":"deny.alertHttp");return o.Z[n].hasOwnProperty(_)?i=o.Z[n][_]:o.Z[a].hasOwnProperty(_)&&(i=o.Z[a][_]),i?t?i:c(i):_}String.prototype.formatCleverPush=function(){var e=this;for(var t in arguments)arguments.hasOwnProperty(t)&&"function"==typeof e.replace&&(e=e.replace("{".concat(t,"}"),arguments[t]));return e}},2043:function(e,t,n){var i,r;!function(o,a){"use strict";void 0===(r="function"==typeof(i=function(){var e=function(){},t="undefined",n=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function r(t,i){for(var r=0;r<n.length;r++){var o=n[r];this[o]=r<t?e:this.methodFactory(o,t,i)}this.log=this.debug}function o(e,n,i){return function(){typeof console!==t&&(r.call(this,n,i),this[e].apply(this,arguments))}}function a(n,r,a){return function(n){return"debug"===n&&(n="log"),typeof console!==t&&(void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):e)}(n)||o.apply(this,arguments)}function s(e,i,o){var s,c=this,_="loglevel";function u(){var e;if(typeof window!==t){try{e=window.localStorage[_]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,i=n.indexOf(encodeURIComponent(_)+"=");-1!==i&&(e=/^([^;]+)/.exec(n.slice(i))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}e&&(_+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=o||a,c.getLevel=function(){return s},c.setLevel=function(i,o){if("string"==typeof i&&void 0!==c.levels[i.toUpperCase()]&&(i=c.levels[i.toUpperCase()]),!("number"==typeof i&&i>=0&&i<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+i;if(s=i,!1!==o&&function(e){var i=(n[e]||"silent").toUpperCase();if(typeof window!==t){try{return void(window.localStorage[_]=i)}catch(e){}try{window.document.cookie=encodeURIComponent(_)+"="+i+";"}catch(e){}}}(i),r.call(c,i,e),typeof console===t&&i<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){u()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var l=u();null==l&&(l=null==i?"WARN":i),c.setLevel(l,!1)}var c=new s,_={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=_[e];return t||(t=_[e]=new s(e,c.getLevel(),c.methodFactory)),t};var u=typeof window!==t?window.log:void 0;return c.noConflict=function(){return typeof window!==t&&window.log===c&&(window.log=u),c},c.getLoggers=function(){return _},c})?i.call(t,n,t,e):i)||(e.exports=r)}()},1474:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}},3705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(1474),r=setTimeout;function o(e){return Boolean(e&&void 0!==e.length)}function a(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void u(t.promise,e)}_(t.promise,i)}else(1===e._state?_:u)(t.promise,e._value)}))):e._deferreds.push(t)}function _(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof s)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void h((i=n,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){u(e,t)}var i,r}function u(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e((function(e){n||(n=!0,_(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(a);return c(this,new f(e,t,n)),n},s.prototype.finally=i.Z,s.all=function(e){return new s((function(t,n){if(!o(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var r=i.length;function a(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(t){a(e,t)}),n)}i[e]=o,0==--r&&t(i)}catch(e){n(e)}}for(var s=0;s<i.length;s++)a(s,i[s])}))},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,n){n(e)}))},s.race=function(e){return new s((function(t,n){if(!o(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=e.length;i<r;i++)s.resolve(e[i]).then(t,n)}))},s._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){r(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const d=s},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function _(e,t,n,i){var r=t&&t.prototype instanceof g?t:g,o=Object.create(r.prototype),a=new T(i||[]);return o._invoke=function(e,t,n){var i=l;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===d){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===l)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var c=u(e,t,n);if("normal"===c.type){if(i=n.done?d:f,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=d,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=_;var l="suspendedStart",f="suspendedYield",h="executing",d="completed",p={};function g(){}function b(){}function m(){}var v={};c(v,o,(function(){return this}));var E=Object.getPrototypeOf,w=E&&E(E(C([])));w&&w!==n&&i.call(w,o)&&(v=w);var P=m.prototype=g.prototype=Object.create(v);function M(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){var n;this._invoke=function(r,o){function a(){return new t((function(n,a){!function n(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var _=c.arg,l=_.value;return l&&"object"==typeof l&&i.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){_.value=e,a(_)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}(r,o,n,a)}))}return n=n?n.then(a,a):a()}}function I(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function C(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:A}}function A(){return{value:t,done:!0}}return b.prototype=m,c(P,"constructor",m),c(m,"constructor",b),b.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(P),e},e.awrap=function(e){return{__await:e}},M(O.prototype),c(O.prototype,a,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new O(_(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},M(P),c(P,s,"Generator"),c(P,o,(function(){return this})),c(P,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),_=i.call(a,"finallyLoc");if(c&&_){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!_)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;D(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:C(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},2238:function(e,t,n){var i;!function(r,o){"use strict";var a="model",s="name",c="type",_="vendor",u="version",l="mobile",f="tablet",h="smarttv",d={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},p={rgx:function(e,t){for(var n,i,r,o,a,s,c=0;c<t.length&&!a;){var _=t[c],u=t[c+1];for(n=i=0;n<_.length&&!a;)if(a=_[n++].exec(e))for(r=0;r<u.length;r++)s=a[++i],"object"==typeof(o=u[r])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;c+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(d.has(t[n][i],e))return"?"===n?void 0:n}else if(d.has(t[n],e))return"?"===n?void 0:n;return e}},g={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},b={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,u],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[s,u],[/(konqueror)\/([\w\.]+)/i],[[s,"Konqueror"],u],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[s,"IE"],u],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],u],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],u],[/(Avast)\/([\w\.]+)/i],[[s,"Avast Secure Browser"],u],[/(AVG)\/([\w\.]+)/i],[[s,"AVG Secure Browser"],u],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],u],[/(focus)\/([\w\.]+)/i],[[s,"Firefox Focus"],u],[/(opt)\/([\w\.]+)/i],[[s,"Opera Touch"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],u],[/(windowswechat qbcore)\/([\w\.]+)/i],[[s,"WeChat(Win) Desktop"],u],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],u],[/(brave)\/([\w\.]+)/i],[[s,"Brave"],u],[/(whale)\/([\w\.]+)/i],[[s,"Whale"],u],[/(qqbrowserlite)\/([\w\.]+)/i],[s,u],[/(QQ)\/([\d\.]+)/i],[s,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,u],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[s,u],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,u],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[s,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[s,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[s,u],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[s,"Android Browser"]],[/(coc_coc_browser)\/([\w\.]+)/i],[[s,"Coc Coc"],u],[/(sailfishbrowser)\/([\w\.]+)/i],[[s,"Sailfish Browser"],u],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,u],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],u],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[s,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[s,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[u,[s,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[u,s],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[u,p.str,g.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[s,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",d.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[a,_,[c,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[_,"Apple"],[c,f]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[_,"Apple"],[c,h]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[_,a,[c,f]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[a,[_,"Amazon"],[c,f]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[a,p.str,g.device.amazon.model],[_,"Amazon"],[c,l]],[/android.+aft([\w])(\sbuild\/|\))/i],[a,[_,"Amazon"],[c,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,_,[c,l]],[/\((ip[honed|\s\w*]+);/i],[a,[_,"Apple"],[c,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[_,a,[c,l]],[/\(bb10;\s(\w+)/i],[a,[_,"BlackBerry"],[c,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[a,[_,"Asus"],[c,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[_,"Sony"],[a,"Xperia Tablet"],[c,f]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[_,"Sony"],[c,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[_,a,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[_,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[_,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[_,p.str,g.device.sprint.vendor],[a,p.str,g.device.sprint.model],[c,l]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[_,[a,/_/g," "],[c,l]],[/(nexus\s9)/i],[a,[_,"HTC"],[c,f]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[a,[_,"Huawei"],[c,l]],[/android.+(bah2?-a?[lw]\d{2})/i],[a,[_,"Huawei"],[c,f]],[/(microsoft);\s(lumia[\s\w]+)/i],[_,a,[c,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[_,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[_,"Microsoft"],[c,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[_,"Motorola"],[c,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[_,"Motorola"],[c,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[_,d.trim],[a,d.trim],[c,h]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[_,"Samsung"],[c,h]],[/\(dtv[\);].+(aquos)/i],[a,[_,"Sharp"],[c,h]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|SM-P587|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[_,"Samsung"],a,[c,f]],[/smart-tv.+(samsung)/i],[_,[c,h],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[_,"Samsung"],a,[c,l]],[/sie-(\w*)/i],[a,[_,"Siemens"],[c,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[_,"Nokia"],a,[c,l]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[a,[_,"Acer"],[c,f]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[_,"LG"],[c,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[_,"LG"],a,[c,f]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[_,"LG"],a,[c,h]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[_,"LG"],[c,l]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[_,a,[c,f]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[_,"Lenovo"],[c,f]],[/(lenovo)[_\s-]?([\w-]+)/i],[_,a,[c,l]],[/linux;.+((jolla));/i],[_,a,[c,l]],[/((pebble))app\/[\d\.]+\s/i],[_,a,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[_,a,[c,l]],[/crkey/i],[[a,"Chromecast"],[_,"Google"],[c,h]],[/android.+;\s(glass)\s\d/i],[a,[_,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[a,[_,"Google"],[c,f]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[a,[_,"Google"],[c,l]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[a,/_/g," "],[_,"Xiaomi"],[c,l]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[a,/_/g," "],[_,"Xiaomi"],[c,f]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[_,"Meizu"],[c,l]],[/(mz)-([\w-]{2,})/i],[[_,"Meizu"],a,[c,l]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[a,[_,"OnePlus"],[c,l]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[_,"RCA"],[c,f]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[a,[_,"Dell"],[c,f]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[_,"Verizon"],[c,f]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(\S(?:.*\S)?)\s+build/i],[[_,"Barnes & Noble"],a,[c,f]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[_,"NuVision"],[c,f]],[/android.+;\s(k88)\sbuild/i],[a,[_,"ZTE"],[c,f]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[_,"Swiss"],[c,l]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[_,"Swiss"],[c,f]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[_,"Zeki"],[c,f]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[_,"Dragon Touch"],a,[c,f]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[a,[_,"Insignia"],[c,f]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[a,[_,"NextBook"],[c,f]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[_,"Voice"],a,[c,l]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[_,"LvTel"],a,[c,l]],[/android.+;\s(PH-1)\s/i],[a,[_,"Essential"],[c,l]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[_,"Envizen"],[c,f]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[_,a,[c,f]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[a,[_,"MachSpeed"],[c,f]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[_,a,[c,f]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[_,"Rotor"],[c,f]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[_,a,[c,f]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[a,[c,l]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[a,[c,f]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,d.lowerize],_,a],[/[\s\/\(](smart-?tv)[;\)]/i],[[c,h]],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[_,"Generic"]],[/(phone)/i],[[c,l]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[u,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,u],[/rv\:([\w\.]{1,9}).+(gecko)/i],[u,s]],os:[[/(xbox);\s+xbox\s([^\);]+)/i,/microsoft\s(windows)\s(vista|xp)/i],[s,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[u,p.str,g.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[u,p.str,g.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[s,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],u],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],u],[/crkey\/([\d\.]+)/i],[u,[s,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],u],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,u],[/(haiku)\s(\w+)/i],[s,u],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[s,u]]},m=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof m))return new m(e,t).getResult();var n=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),i=t?d.extend(b,t):b;return this.getBrowser=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,n,i.browser),e.major=d.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return p.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return p.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};m.VERSION="0.7.24",m.BROWSER={NAME:s,MAJOR:"major",VERSION:u},m.CPU={ARCHITECTURE:"architecture"},m.DEVICE={MODEL:a,VENDOR:_,TYPE:c,CONSOLE:"console",MOBILE:l,SMARTTV:h,TABLET:f,WEARABLE:"wearable",EMBEDDED:"embedded"},m.ENGINE={NAME:s,VERSION:u},m.OS={NAME:s,VERSION:u},void 0!==t?(e.exports&&(t=e.exports=m),t.UAParser=m):void 0===(i=function(){return m}.call(t,n,t,e))||(e.exports=i);var v=r&&(r.jQuery||r.Zepto);if(v&&!v.ua){var E=new m;v.ua=E.getResult(),v.ua.get=function(){return E.getUA()},v.ua.set=function(e){E.setUA(e);var t=E.getResult();for(var n in t)v.ua[n]=t[n]}}}("object"==typeof window?window:this)},4795:function(e,t,n){var i;!function(t){"use strict";function r(){}var o=r.prototype,a=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}o.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t},o.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},o.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},o.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),r="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===s(i[n],t)&&i[n].push(r?t:{listener:t,once:!1});return this},o.on=c("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=c("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,t){var n,i,r=this.getListenersAsObject(e);for(i in r)r.hasOwnProperty(i)&&-1!==(n=s(r[i],t))&&r[i].splice(n,1);return this},o.off=c("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):a.call(this,i,r));return this},o.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},o.removeAllListeners=c("removeEvent"),o.emitEvent=function(e,t){var n,i,r,o,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),r=0;r<n.length;r++)!0===(i=n[r]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},o.trigger=c("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return t.EventEmitter=a,r},void 0===(i=function(){return r}.call(t,n,t,e))||(e.exports=i)}(this||{})},3564:(e,t,n)=>{var i={"./facebookManager":[6866,5,866],"./facebookManager.js":[6866,5,866],"./httpHostManager":[335,5,251,335],"./httpHostManager.js":[335,5,251,335],"./httpIframeManager":[2818,5,251,818],"./httpIframeManager.js":[2818,5,251,818],"./httpPopupManager":[8240,5,251,240],"./httpPopupManager.js":[8240,5,251,240],"./httpsManager":[8115,5,251,115],"./httpsManager.js":[8115,5,251,115],"./manager":[4005,5],"./manager.js":[4005,5],"./safariManager":[6315,5,315],"./safariManager.js":[6315,5,315],"./urlSessionManager":[7809,5,809],"./urlSessionManager.js":[7809,5,809],"./walletManager":[2217,5,217],"./walletManager.js":[2217,5,217]};function r(e){if(!n.o(i,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then(()=>n(r))}r.keys=()=>Object.keys(i),r.id=3564,e.exports=r}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var r=Object.create(null);__webpack_require__.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>n[e]);return o.default=()=>n,__webpack_require__.d(r,o),r}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce((t,n)=>(__webpack_require__.f[n](e,t),t),[])),__webpack_require__.u=e=>"chunk/"+e+"."+{5:"b738fc1eca74daada2dc",8:"f21de0ecae785863bc59",34:"1d9eb5573da8bdddb63b",115:"9508b246af235e813a76",217:"5de73b4e9deaa887876d",240:"a97c6b7202ca2bfac256",251:"f96a23c8ba1a163ea93d",315:"d96d94f9542ffb45210c",335:"695e4177b910257cb383",407:"9f136b13133af7461ab1",411:"7eeb6d87fe754d531b91",467:"f7288a2e676f057908be",491:"808d26f6fb4164f2f1fc",499:"e9fcb2f5be467a404b0b",600:"38cb0bc1911f99b663b3",720:"829247d9f5a3f987ec18",728:"7b6f54f3930606b9c19d",737:"464bdc3669ab7f608f65",754:"b682b192a05b2edb0957",789:"872ba2fc06b880105bdb",809:"09ef424a01e76d720fd8",818:"ee6d94e6219278dc8193",866:"9e1232645b8e65308842",970:"c702097df918c99b9081"}[e]+".js",__webpack_require__.miniCssF=e=>{},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={};__webpack_require__.l=(t,n,i,r)=>{if(e[t])e[t].push(n);else{var o,a;if(void 0!==i)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var _=s[c];if(_.getAttribute("src")==t||_.getAttribute("data-webpack")=="@cleverpush/cleverpush-js-sdk:"+i){o=_;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack","@cleverpush/cleverpush-js-sdk:"+i),o.src=t),e[t]=[n];var u=(n,i)=>{o.onerror=o.onload=null,clearTimeout(l);var r=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(e=>e(i)),n)return n(i)},l=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),a&&document.head.appendChild(o)}}})(),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="https://static.cleverpush.com/sdk/",(()=>{var e={370:0};__webpack_require__.f.j=(t,n)=>{var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise((n,r)=>i=e[t]=[n,r]);n.push(i[2]=r);var o=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(o,n=>{if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",a.name="ChunkLoadError",a.type=r,a.request=o,i[1](a)}},"chunk-"+t,t)}};var t=(t,n)=>{var i,r,[o,a,s]=n,c=0;for(i in a)__webpack_require__.o(a,i)&&(__webpack_require__.m[i]=a[i]);if(s)s(__webpack_require__);for(t&&t(n);c<o.length;c++)r=o[c],__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[o[c]]=0},n=self.webpackChunk_cleverpush_cleverpush_js_sdk=self.webpackChunk_cleverpush_cleverpush_js_sdk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var e,t=__webpack_require__(8927),n=__webpack_require__(484),i=__webpack_require__(6128),r=__webpack_require__(1078);if(window.__cleverPushSdkLoadCount=(window.__cleverPushSdkLoadCount||0)+1,window.__cleverPushSdkLoadCount>1)r.cM.warn("The SDK is included more than once. Please only load the CleverPush SDK once in your code.");else if("object"===(0,n.Z)(window.CleverPush)&&Array.isArray(window.CleverPush)&&(e=(0,t.Z)(window.CleverPush)),(void 0===window.CleverPush||"object"===(0,n.Z)(window.CleverPush)&&Array.isArray(window.CleverPush))&&(window.CleverPush=new i.Z),e)for(var o=0;o<e.length;o+=1)window.CleverPush.executeFunction(e[o]);"undefined"!=typeof Symbol&&Object.defineProperty(Array.prototype,Symbol.toStringTag,{value:"Array"})})()})();
//# sourceMappingURL=https://static.cleverpush.com/sdk/cleverpush.js.map
CleverPush.init({"loadConfig":false,"environment":"production","apiEndpoint":"https://api.cleverpush.com","geoipApiEndpoint":"https://geoip-api.cleverpush.com/","staticEndpoint":"https://static.cleverpush.com","autoRegister":true,"channelId":"9nsSYmLaJtzaNE2ay","channelName":"statista.com","channelIcon":"https://static.cleverpush.com/notification/icon/EhNwfNGWbHYpG7F6t.png","channelTopics":[{"_id":"grbhQz2bEGwJ8cBtd","name":"Consumer Market updates","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"},{"_id":"zSwrbmoHaYZ8euoZ5","name":"Digital Market updates","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"},{"_id":"Pyj3iwpET8QyXGCZb","name":"E-Commerce insights","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"},{"_id":"xvAKwv2mYxLEJWinx","name":"Infographics updates","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"},{"_id":"35mCBjGQPAtuKTMoq","name":"Product updates","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-01-24T13:12:58.072Z"}],"channelTags":[{"_id":"Yei2GAiBJBRgCMAqE","name":"Anonymous users","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-03-25T09:11:08.570Z"},{"_id":"5C5jWg548Mhg3hSf3","name":"Paying users (PA, CA, EA)","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-03-25T09:11:08.570Z"},{"_id":"LoXwAgb3MoZRuZz7t","name":"Report 123","channel":["9nsSYmLaJtzaNE2ay"],"createdAt":"2020-10-21T09:22:56.809Z","autoAssignFunction":null,"autoAssignPath":"/study/9644/automotive-industry-statista-dossier/","autoAssignSelector":null}],"channelEvents":[{"_id":"Rmy6syDZHTMCohdG5","channel":"9nsSYmLaJtzaNE2ay","name":"Bestellbesttigung","triggerType":"path","triggerPath":"/checkout/thank-you"}],"multiChannels":{},"customAttributes":[],"alertTimeout":3000,"alertOncePerSession":true,"alertMinimumVisits":2,"alertScrollPercentage":0,"confirmAlertTheme":"cleverpush-confirm-default","confirmAlertThemeVariant":"cleverpush-confirm-auto","confirmAlertThemeBackground":"","confirmAlertThemeBackgroundColor":"","confirmAlertThemeTextColor":"","confirmAlertThemeLinkColor":"","confirmAlertThemeButtonTextColor":"","confirmAlertNativeTheme":"cleverpush-confirm-topbar-slim","confirmAlertHideChannelIcon":false,"confirmAlertRoundChannelIcon":false,"confirmAlertBackdrop":true,"confirmAlertBackdropBlur":false,"confirmAlertBackdropOpacity":0.75,"confirmAlertTests":[],"confirmAlertTestsEnabled":false,"confirmAlertRequireChannelTopics":true,"confirmAlertHideChannelTopics":true,"confirmAlertStyle":{"backgroundColor":"","color":""},"confirmAlertTitleStyle":{},"confirmAlertLinkStyle":{"color":""},"confirmAlertButtonStyle":{"backgroundColor":"#0077d5","color":"#ffffff","fontWeight":"600"},"confirmAlertAllowButtonStyle":{"backgroundColor":"#0077d5","color":"#ffffff"},"confirmAlertFilters":[{"config":{},"type":"path","value":"\\/(perspectiva|outlook|perspective)\\/(consumer|digital|mobility|country|technology|advertising|industry)-(markets|outlook|media)","autoRegister":false},{"config":{},"type":"path","value":"\\/customercloud\\/global-consumer-survey"},{"config":{},"type":"path","value":"\\/(topics|temas|themen|themes)\\/[0-9]+\\/"},{"config":{},"type":"path","value":"\\/(recherche|search|statistic\\/suche|buscar)\\/"},{"config":{},"type":"path","value":"\\/(perspectiva\\/outlook|outlook|perspective\\/outlook)\\/[0-9]+\\/"}],"url":"https://https://www.statista.com//subscribe","alertLocalization":{"title":"Notifications about topics of your interest","info":"Bysubscribing to our notificationsyou allow us to keep you updated about our products . You can  revoke your consent at any time. Stay tuned.","allow":"","confirmInfo":""},"ownDomain":true,"domain":"https://www.statista.com/","subdomain":"statistacomdev","cleverpushDomain":"cleverpush.com","vapidPublicKey":"BH5yJkGeqT_FyrZ8gf0S8Gq1nwXgm8n928RptXbNG0m_4MmBadsb_uxtVcR6flvAuOn6zdwqWBUhRS7-oiF5784","showConfirmAlert":true,"showConfirmAlertMobile":false,"hideBranding":false,"hideFaqLink":false,"faqUrl":"https://cleverpush.com/faq","privacyPolicyText":"Privacy policy","privacyPolicyUrl":"https://www.statista.com/imprint/#privacy","showNotificationBell":false,"hideNotificationBellMobile":false,"hideNotificationBellSubscribed":false,"notificationBellColor":"#42a2f2","serviceWorkerFile":"/cleverpush/en/cleverpush-worker.js","safariWebServiceUrl":"https://api.cleverpush.com/channel/9nsSYmLaJtzaNE2ay/safari","origin":"https://https://www.statista.com/","loadIframe":true,"trackSessions":false,"pageBannerNotifications":[],"webBanners":[],"widgets":[],"followUpCampaigns":[],"emailOptInForms":[],"notificationCategoryGroups":[],"chatWidgetButtonName":"Support","chatWidgetThemeColor":"#42a2f2"});